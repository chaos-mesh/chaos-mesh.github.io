"use strict";(self.webpackChunkchaos_mesh_website=self.webpackChunkchaos_mesh_website||[]).push([[27995],{3905:(t,e,a)=>{a.d(e,{Zo:()=>m,kt:()=>u});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),d=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},m=function(t){var e=d(t.components);return n.createElement(s.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,s=t.parentName,m=l(t,["components","mdxType","originalType","parentName"]),c=d(a),u=r,h=c["".concat(s,".").concat(u)]||c[u]||p[u]||i;return a?n.createElement(h,o(o({ref:e},m),{},{components:a})):n.createElement(h,o({ref:e},m))}));function u(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,o=new Array(i);o[0]=c;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:r,o[1]=l;for(var d=2;d<i;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},7330:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const i={title:"Simulate Network Faults"},o=void 0,l={unversionedId:"simulate-network-chaos-in-physical-nodes",id:"version-2.3.3/simulate-network-chaos-in-physical-nodes",title:"Simulate Network Faults",description:"This document introduces how to use Chaosd to simulate network faults. The simulations can be completed by modifying network routing and traffic flow control using iptables, ipsets, tc, etc.",source:"@site/versioned_docs/version-2.3.3/simulate-network-chaos-in-physical-nodes.md",sourceDirName:".",slug:"/simulate-network-chaos-in-physical-nodes",permalink:"/docs/2.3.3/simulate-network-chaos-in-physical-nodes",draft:!1,editUrl:"https://github.com/chaos-mesh/website/edit/master/versioned_docs/version-2.3.3/simulate-network-chaos-in-physical-nodes.md",tags:[],version:"2.3.3",frontMatter:{title:"Simulate Network Faults"},sidebar:"docs",previous:{title:"Simulate Process Faults",permalink:"/docs/2.3.3/simulate-process-chaos-in-physical-nodes"},next:{title:"Simulate Host Faults",permalink:"/docs/2.3.3/simulate-host-console-in-physical-nodes"}},s={},d=[{value:"Create network fault experiments using command-line mode",id:"create-network-fault-experiments-using-command-line-mode",level:2},{value:"Simulate network corruption using the command-line mode",id:"simulate-network-corruption-using-the-command-line-mode",level:3},{value:"The command for network corruption",id:"the-command-for-network-corruption",level:4},{value:"Configuration items related to network corruption",id:"configuration-items-related-to-network-corruption",level:4},{value:"Example for simulating network corruption using the command mode",id:"example-for-simulating-network-corruption-using-the-command-mode",level:4},{value:"Simulate network latency using the command-line mode",id:"simulate-network-latency-using-the-command-line-mode",level:3},{value:"The command for network latency",id:"the-command-for-network-latency",level:4},{value:"Configuration items related to network latency",id:"configuration-items-related-to-network-latency",level:4},{value:"Example for simulating network latency using the command-line mode",id:"example-for-simulating-network-latency-using-the-command-line-mode",level:4},{value:"Simulate network duplication using the command-line mode",id:"simulate-network-duplication-using-the-command-line-mode",level:3},{value:"The command for network duplication",id:"the-command-for-network-duplication",level:4},{value:"Configuration items related to network duplication",id:"configuration-items-related-to-network-duplication",level:4},{value:"Example for simulating network duplication using the command-line mode",id:"example-for-simulating-network-duplication-using-the-command-line-mode",level:4},{value:"Simulate network loss using the command-line mode",id:"simulate-network-loss-using-the-command-line-mode",level:3},{value:"The command for network loss",id:"the-command-for-network-loss",level:4},{value:"Configuration items related to network loss",id:"configuration-items-related-to-network-loss",level:4},{value:"Example for simulating network loss using the command-line mode",id:"example-for-simulating-network-loss-using-the-command-line-mode",level:4},{value:"Simulate network partition using the command-line mode",id:"simulate-network-partition-using-the-command-line-mode",level:3},{value:"The command for network partition",id:"the-command-for-network-partition",level:4},{value:"Configuration items related to network partition",id:"configuration-items-related-to-network-partition",level:4},{value:"Example for simulating network partition using the command-line mode",id:"example-for-simulating-network-partition-using-the-command-line-mode",level:4},{value:"Simulate DNS fault using the command-line mode",id:"simulate-dns-fault-using-the-command-line-mode",level:3},{value:"The command for DNS fault",id:"the-command-for-dns-fault",level:4},{value:"Configuration items related to DNS fault",id:"configuration-items-related-to-dns-fault",level:4},{value:"Example for simulating DNS fault using the command-line mode",id:"example-for-simulating-dns-fault-using-the-command-line-mode",level:4},{value:"Simulate network bandwidth using the command-line mode",id:"simulate-network-bandwidth-using-the-command-line-mode",level:3},{value:"The command for network bandwidth",id:"the-command-for-network-bandwidth",level:4},{value:"Configuration items related to network bandwidth",id:"configuration-items-related-to-network-bandwidth",level:4},{value:"Example for simulating network bandwidth using the command-line mode",id:"example-for-simulating-network-bandwidth-using-the-command-line-mode",level:4},{value:"Simulate port occupation using the command-line mode",id:"simulate-port-occupation-using-the-command-line-mode",level:3},{value:"The command for port occupation",id:"the-command-for-port-occupation",level:4},{value:"Configuration items related to port occupation",id:"configuration-items-related-to-port-occupation",level:4},{value:"Example for simulating port occupation using the command-line mode",id:"example-for-simulating-port-occupation-using-the-command-line-mode",level:4},{value:"Create network fault experiments using service mode",id:"create-network-fault-experiments-using-service-mode",level:2},{value:"Simulate network corruption using the service mode",id:"simulate-network-corruption-using-the-service-mode",level:3},{value:"Parameters for simulating network corruption",id:"parameters-for-simulating-network-corruption",level:4},{value:"Example for simulating network corruption using the service mode",id:"example-for-simulating-network-corruption-using-the-service-mode",level:4},{value:"Simulate network corruption using the service mode",id:"simulate-network-corruption-using-the-service-mode-1",level:3},{value:"Parameters for simulating network corruption",id:"parameters-for-simulating-network-corruption-1",level:4},{value:"Example for simulating network corruption using the service mode",id:"example-for-simulating-network-corruption-using-the-service-mode-1",level:4},{value:"Simulate network duplication using the service mode",id:"simulate-network-duplication-using-the-service-mode",level:3},{value:"Parameters for simulating network duplication",id:"parameters-for-simulating-network-duplication",level:4},{value:"Example for simulating network duplication using the service mode",id:"example-for-simulating-network-duplication-using-the-service-mode",level:4},{value:"Simulate network loss using the service mode",id:"simulate-network-loss-using-the-service-mode",level:3},{value:"Parameters for simulating network loss",id:"parameters-for-simulating-network-loss",level:4},{value:"Example for simulating network loss using the service mode",id:"example-for-simulating-network-loss-using-the-service-mode",level:4},{value:"Simulate network partition using the service mode",id:"simulate-network-partition-using-the-service-mode",level:3},{value:"Parameters for simulating network partition",id:"parameters-for-simulating-network-partition",level:4},{value:"Example for simulating network partition using the service mode",id:"example-for-simulating-network-partition-using-the-service-mode",level:4},{value:"Simulate DNS fault using the service mode",id:"simulate-dns-fault-using-the-service-mode",level:3},{value:"Parameters for simulating DNS fault",id:"parameters-for-simulating-dns-fault",level:4},{value:"Example for simulating DNS fault using the service mode",id:"example-for-simulating-dns-fault-using-the-service-mode",level:4},{value:"Simulate network bandwidth using the service mode",id:"simulate-network-bandwidth-using-the-service-mode",level:3},{value:"Parameters for simulating network bandwidth",id:"parameters-for-simulating-network-bandwidth",level:4},{value:"Example for simulating network bandwidth using the service mode",id:"example-for-simulating-network-bandwidth-using-the-service-mode",level:4},{value:"Simulate port occupation using the service mode",id:"simulate-port-occupation-using-the-service-mode",level:3},{value:"Parameters for simulating port occupation",id:"parameters-for-simulating-port-occupation",level:4},{value:"Example for simulating port occupation using the service mode",id:"example-for-simulating-port-occupation-using-the-service-mode",level:4}],m={toc:d};function p(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This document introduces how to use Chaosd to simulate network faults. The simulations can be completed by modifying network routing and traffic flow control using iptables, ipsets, tc, etc."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Make sure the NET_SCH_NETEM module is installed in the Linux kernel. If you are using CentOS, you can install the module through the kernel-modules-extra package. Most other Linux distributions have installed it already by default.")),(0,r.kt)("h2",{id:"create-network-fault-experiments-using-command-line-mode"},"Create network fault experiments using command-line mode"),(0,r.kt)("p",null,"This section introduces how to create network fault experiments using command-line mode."),(0,r.kt)("p",null,"Before creating an experiment, you can run the following command to check the types of network faults supported by Chaosd:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Network attack related commands\n\nUsage:\n  chaosd attack network [command]\n\nAvailable Commands:\n  bandwidth   limit network bandwidth\n  corrupt     corrupt network packet\n  delay       delay network\n  dns attack  DNS server or map specified host to specified IP\n  duplicate   duplicate network packet\n  loss        loss network packet\n  partition   partition\n  port        attack network port\n\nFlags:\n  -h, --help   help for network\n\nGlobal Flags:\n      --log-level string   the log level of chaosd, the value can be 'debug', 'info', 'warn' and 'error'\n\nUse \"chaosd attack network [command] --help\" for more information about a command.\n")),(0,r.kt)("p",null,"Currently, you can simulate four experimental scenarios using Chaosd: network corruption, network latency, network duplication, and network loss."),(0,r.kt)("h3",{id:"simulate-network-corruption-using-the-command-line-mode"},"Simulate network corruption using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated network corruption using Chaosd."),(0,r.kt)("h4",{id:"the-command-for-network-corruption"},"The command for network corruption"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network corrupt --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"corrupt network packet\n\nUsage:\n  chaosd attack network corrupt [flags]\n\nFlags:\n  -c, --correlation string   correlation is percentage (10 is 10%) (default \"0\")\n  -d, --device string        the network interface to impact\n  -e, --egress-port string   only impact egress traffic to these destination ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n  -h, --help                 help for corrupt\n  -H, --hostname string      only impact traffic to these hostnames\n  -i, --ip string            only impact egress traffic to these IP addresses\n      --percent string       percentage of packets to corrupt (10 is 10%) (default \"1\")\n  -p, --protocol string      only impact traffic using this IP protocol, supported: tcp, udp, icmp, all\n  -s, --source-port string   only impact egress traffic from these source ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n\nGlobal Flags:\n      --log-level string   the log level of chaosd, the value can be 'debug', 'info', 'warn' and 'error'\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-network-corruption"},"Configuration items related to network corruption"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"correlation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"c"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The correlation between the percentage of current corrupt occurrence and the previous occurrence."),(0,r.kt)("td",{parentName:"tr",align:"left"},'int. It is a percentage ranging from 0 to 100 (10 is 10%) ("0" by default ).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"device"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"e"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic that only impacts specific destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"hostname"),(0,r.kt)("td",{parentName:"tr",align:"left"},"H"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"protocol"),(0,r.kt)("td",{parentName:"tr",align:"left"},"p"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP protocol impacted by traffic."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. Supported protocols: tcp, udp, icmp, all (all network protocols).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"source-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"s"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic which only impact specific source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. Use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to delimit the specific port or to indicate the range of the ports, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-corruption-using-the-command-mode"},"Example for simulating network corruption using the command mode"),(0,r.kt)("p",null,"Run the following command to simulate network corruption:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network corrupt -d eth0 -i 172.16.4.4 --percent 50\n")),(0,r.kt)("p",null,"If the command runs successfully, the output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Attack network successfully, uid: 4eab1e62-8d60-45cb-ac85-3c17b8ac4825\n")),(0,r.kt)("h3",{id:"simulate-network-latency-using-the-command-line-mode"},"Simulate network latency using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated network latency using Chaosd."),(0,r.kt)("h4",{id:"the-command-for-network-latency"},"The command for network latency"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network delay --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"delay network\n\nUsage:\n  chaosd attack network delay [flags]\n\nFlags:\n  -c, --correlation string   correlation is percentage (10 is 10%) (default \"0\")\n  -d, --device string        the network interface to impact\n  -e, --egress-port string   only impact egress traffic to these destination ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n  -h, --help                 help for delay\n  -H, --hostname string      only impact traffic to these hostnames\n  -i, --ip string            only impact egress traffic to these IP addresses\n  -j, --jitter string        jitter time, time units: ns, us (or \xb5s), ms, s, m, h.\n  -l, --latency string       delay egress time, time units: ns, us (or \xb5s), ms, s, m, h.\n  -p, --protocol string      only impact traffic using this IP protocol, supported: tcp, udp, icmp, all\n  -s, --source-port string   only impact egress traffic from these source ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n\nGlobal Flags:\n      --log-level string   the log level of chaosd, the value can be 'debug', 'info', 'warn' and 'error'\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-network-latency"},"Configuration items related to network latency"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"correlation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"c"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The correlation between the current latency and the previous one."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It is a percentage ranging from 0 to 100 (10 is 10%) ("0" by default).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"device"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"e"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic which only impact specific destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"hostname"),(0,r.kt)("td",{parentName:"tr",align:"left"},"H"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"jitter"),(0,r.kt)("td",{parentName:"tr",align:"left"},"j"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Range of the length of network delay time."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. The time units can be: ns, us (\xb5s), ms, s, m, h, such as "1ms".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"latency"),(0,r.kt)("td",{parentName:"tr",align:"left"},"l"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Length of network delay time."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. The time units can be: ns, us (\u03bcs), ms, s, m, h, such as "1ms".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"protocol"),(0,r.kt)("td",{parentName:"tr",align:"left"},"p"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP protocol impacted by traffic."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"source-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"s"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic that only impacts specified source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-latency-using-the-command-line-mode"},"Example for simulating network latency using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate network latency:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network delay -d eth0 -i 172.16.4.4 -l 10ms\n")),(0,r.kt)("p",null,"If the command runs successfully, the output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Attack network successfully, uid: 4b23a0b5-e193-4b27-90a7-3e04235f32ab\n")),(0,r.kt)("h3",{id:"simulate-network-duplication-using-the-command-line-mode"},"Simulate network duplication using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated network duplication using Chaosd."),(0,r.kt)("h4",{id:"the-command-for-network-duplication"},"The command for network duplication"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network duplicate --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"duplicate network packet\n\nUsage:\n  chaosd attack network duplicate [flags]\n\nFlags:\n  -c, --correlation string   correlation is percentage (10 is 10%) (default \"0\")\n  -d, --device string        the network interface to impact\n  -e, --egress-port string   only impact egress traffic to these destination ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n  -h, --help                 help for duplicate\n  -H, --hostname string      only impact traffic to these hostnames\n  -i, --ip string            only impact egress traffic to these IP addresses\n      --percent string       percentage of packets to duplicate (10 is 10%) (default \"1\")\n  -p, --protocol string      only impact traffic using this IP protocol, supported: tcp, udp, icmp, all\n  -s, --source-port string   only impact egress traffic from these source ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n\nGlobal Flags:\n      --log-level string   the log level of chaosd, the value can be 'debug', 'info', 'warn' and 'error'\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-network-duplication"},"Configuration items related to network duplication"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"correlation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"c"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The correlation between the percentage of current duplication occurrence and the previous one."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "0").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"device"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"e"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic that only impacts specified destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"hostname"),(0,r.kt)("td",{parentName:"tr",align:"left"},"H"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"percent"),(0,r.kt)("td",{parentName:"tr",align:"left"},"N/A"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Ratio of network packet duplicate."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "1").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"protocol"),(0,r.kt)("td",{parentName:"tr",align:"left"},"p"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP protocol impacted by traffic."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"source-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"s"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic which only impact specific source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-duplication-using-the-command-line-mode"},"Example for simulating network duplication using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate network duplication:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network duplicate -d eth0 -i 172.16.4.4 --percent 50\n")),(0,r.kt)("p",null,"If the command runs successfully, the output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Attack network successfully, uid: 7bcb74ee-9101-4ae4-82f0-e44c8a7f113c\n")),(0,r.kt)("h3",{id:"simulate-network-loss-using-the-command-line-mode"},"Simulate network loss using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated network loss using Chaosd:"),(0,r.kt)("h4",{id:"the-command-for-network-loss"},"The command for network loss"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network loss --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"loss network packet\n\nUsage:\n  chaosd attack network loss [flags]\n\nFlags:\n  -c, --correlation string   correlation is percentage (10 is 10%) (default \"0\")\n  -d, --device string        the network interface to impact\n  -e, --egress-port string   only impact egress traffic to these destination ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n  -h, --help                 help for loss\n  -H, --hostname string      only impact traffic to these hostnames\n  -i, --ip string            only impact egress traffic to these IP addresses\n      --percent string       percentage of packets to drop (10 is 10%) (default \"1\")\n  -p, --protocol string      only impact traffic using this IP protocol, supported: tcp, udp, icmp, all\n  -s, --source-port string   only impact egress traffic from these source ports, use a ',' to separate or to indicate the range, such as 80, 8001:8010. It can only be used in conjunction with -p tcp or -p udp\n\nGlobal Flags:\n      --log-level string   the log level of chaosd, the value can be 'debug', 'info', 'warn' and 'error'\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-network-loss"},"Configuration items related to network loss"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"correlation"),(0,r.kt)("td",{parentName:"tr",align:"left"},"c"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The correlation between the percentage of the current network loss and the previous one."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "0").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"device"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"e"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic that only impacts specified destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"hostname"),(0,r.kt)("td",{parentName:"tr",align:"left"},"H"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"percent"),(0,r.kt)("td",{parentName:"tr",align:"left"},"N/A"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Ratio of network packet loss."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "1").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"protocol"),(0,r.kt)("td",{parentName:"tr",align:"left"},"p"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only impact traffic using this IP protocol."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"source-port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"s"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The egress traffic which only impact specific source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:"left"},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-loss-using-the-command-line-mode"},"Example for simulating network loss using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate network loss:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network loss -d eth0 -i 172.16.4.4 --percent 50\n")),(0,r.kt)("p",null,"If the command runs successfully, the output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Attack network successfully, uid: 1e818adf-3942-4de4-949b-c8499f120265\n")),(0,r.kt)("h3",{id:"simulate-network-partition-using-the-command-line-mode"},"Simulate network partition using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated network partition using Chaosd."),(0,r.kt)("h4",{id:"the-command-for-network-partition"},"The command for network partition"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network partition --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"partition\n\nUsage:\n  chaosd attack network partition [flags]\n\nFlags:\n      --accept-tcp-flags string   only the packet which match the tcp flag can be accepted, others will be dropped. only set when the protocol is tcp.\n  -d, --device string             the network interface to impact\n      --direction string          specifies the partition direction, values can be 'to', 'from' or 'both'. 'from' means packets coming from the 'IPAddress' or 'Hostname' and going to your server, 'to' means packets originating from your server and going to the 'IPAddress' or 'Hostname'. (default \"both\")\n  -h, --help                      help for partition\n  -H, --hostname string           only impact traffic to these hostnames\n  -i, --ip string                 only impact egress traffic to these IP addresses\n  -p, --protocol string           only impact traffic using this IP protocol, supported: tcp, udp, icmp, all\n\nGlobal Flags:\n      --log-level string   the log level of chaosd. The value can be 'debug', 'info', 'warn' and 'error'\n      --uid string         the experiment ID\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-network-partition"},"Configuration items related to network partition"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"accept-tcp-flags"),(0,r.kt)("td",{parentName:"tr",align:"left"},"N/A"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only the packet which matches the tcp flag can be accepted, others will be dropped. Only set when the protocol is tcp."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "SYN,ACK SYN,ACK"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"device"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"the network interface to impact"),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "eth0", required')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"direction"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specifies the partition direction, values can be 'to', 'from' or 'both'. 'from' means packets coming from the 'ip' or 'hostname' and going to your server, 'to' means packets originating from your server and going to the 'ip' or 'hostname'."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, values can be "to", "from" or "both" (default "both")')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"hostname"),(0,r.kt)("td",{parentName:"tr",align:"left"},"H"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only impact traffic to these hostnames. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only impact egress traffic to these IP addresses. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "192.168.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"protocol"),(0,r.kt)("td",{parentName:"tr",align:"left"},"p"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only impact traffic using this IP protocol"),(0,r.kt)("td",{parentName:"tr",align:"left"},'string. It supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')))),(0,r.kt)("h4",{id:"example-for-simulating-network-partition-using-the-command-line-mode"},"Example for simulating network partition using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate network partition:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network partition -i 172.16.4.4 -d eth0 --direction from\n")),(0,r.kt)("h3",{id:"simulate-dns-fault-using-the-command-line-mode"},"Simulate DNS fault using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated DNS fault using Chaosd."),(0,r.kt)("h4",{id:"the-command-for-dns-fault"},"The command for DNS fault"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network dns --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"attack DNS server or map specified host to specified IP\n\nUsage:\n  chaosd attack network dns [flags]\n\nFlags:\n  -d, --dns-domain-name string   map this host to specified IP\n  -i, --dns-ip string            map specified host to this IP address\n      --dns-server string        update the DNS server in /etc/resolv.conf with this value (default \"123.123.123.123\")\n  -h, --help                     help for dns\n\nGlobal Flags:\n      --log-level string   the log level of chaosd. The value can be 'debug', 'info', 'warn' and 'error'\n      --uid string         the experiment ID\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-dns-fault"},"Configuration items related to DNS fault"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"dns-domain-name"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Map this host to specified IP(dns-ip)"),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"dns-ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Map specified host(dns-domain-name) to this IP address"),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "123.123.123.123"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"dns-server"),(0,r.kt)("td",{parentName:"tr",align:"left"},"N/A"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Update the DNS server in /etc/resolv.conf with this value"),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, default is "123.123.123.123"')))),(0,r.kt)("h4",{id:"example-for-simulating-dns-fault-using-the-command-line-mode"},"Example for simulating DNS fault using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate DNS fault by mapping specified host to specified IP:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network dns --dns-ip 123.123.123.123 --dns-domain-name chaos-mesh.org\n")),(0,r.kt)("p",null,"Run the following command to simulate DNS fault by using wrong DNS server:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network dns --dns-server 123.123.123.123\n")),(0,r.kt)("h3",{id:"simulate-network-bandwidth-using-the-command-line-mode"},"Simulate network bandwidth using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated network bandwidth using Chaosd."),(0,r.kt)("h4",{id:"the-command-for-network-bandwidth"},"The command for network bandwidth"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network bandwidth --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"limit network bandwidth\n\nUsage:\n  chaosd attack network bandwidth [flags]\n\nFlags:\n  -b, --buffer uint32     the maximum amount of bytes that tokens can be available for instantaneously\n  -d, --device string     the network interface to impact\n  -h, --help              help for bandwidth\n  -H, --hostname string   only impact traffic to these hostnames\n  -i, --ip string         only impact egress traffic to these IP addresses\n  -l, --limit uint32      the number of bytes that can be queued waiting for tokens to become available\n  -m, --minburst uint32   specifies the size of the peakrate bucket\n      --peakrate uint     the maximum depletion rate of the bucket\n  -r, --rate string       the speed knob, allows bps, kbps, mbps, gbps, tbps unit. bps means bytes per second\n\nGlobal Flags:\n      --log-level string   the log level of chaosd. The value can be 'debug', 'info', 'warn' and 'error'\n      --uid string         the experiment ID\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-network-bandwidth"},"Configuration items related to network bandwidth"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"buffer"),(0,r.kt)("td",{parentName:"tr",align:"left"},"b"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum amount of bytes that tokens can be available for instantaneously"),(0,r.kt)("td",{parentName:"tr",align:"left"},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"),", required")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"device"),(0,r.kt)("td",{parentName:"tr",align:"left"},"d"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The network interface to impact"),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "eth0", required')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"hostname"),(0,r.kt)("td",{parentName:"tr",align:"left"},"H"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only impact traffic to these hostnames. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"i"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Only impact egress traffic to these IP addresses. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip"),"."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"limit"),(0,r.kt)("td",{parentName:"tr",align:"left"},"l"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The number of bytes that can be queued waiting for tokens to become available"),(0,r.kt)("td",{parentName:"tr",align:"left"},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"),", required")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"minburst"),(0,r.kt)("td",{parentName:"tr",align:"left"},"m"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specifies the size of the peakrate bucket"),(0,r.kt)("td",{parentName:"tr",align:"left"},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"peakrate"),(0,r.kt)("td",{parentName:"tr",align:"left"},"N/A"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum depletion rate of the bucket"),(0,r.kt)("td",{parentName:"tr",align:"left"},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"rate"),(0,r.kt)("td",{parentName:"tr",align:"left"},"r"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The speed knob, allows bps, kbps, mbps, gbps, tbps unit. The bps unit means bytes per second."),(0,r.kt)("td",{parentName:"tr",align:"left"},'string, such as "1mbps", required')))),(0,r.kt)("h4",{id:"example-for-simulating-network-bandwidth-using-the-command-line-mode"},"Example for simulating network bandwidth using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate network bandwidth:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network bandwidth --buffer 10000 --device eth0 --limit 10000 --rate 10mbps\n")),(0,r.kt)("h3",{id:"simulate-port-occupation-using-the-command-line-mode"},"Simulate port occupation using the command-line mode"),(0,r.kt)("p",null,"You can run the command below to see the configuration of simulated port occupation."),(0,r.kt)("h4",{id:"the-command-for-port-occupation"},"The command for port occupation"),(0,r.kt)("p",null,"The command is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network port --help\n")),(0,r.kt)("p",null,"The output is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"attack network port\n\nUsage:\n  chaosd attack network port [flags]\n\nFlags:\n  -h, --help          help for port\n  -p, --port string   this specified port is to occupied\n\nGlobal Flags:\n      --log-level string   the log level of chaosd. The value can be 'debug', 'info', 'warn' and 'error'\n      --uid string         the experiment ID\n")),(0,r.kt)("h4",{id:"configuration-items-related-to-port-occupation"},"Configuration items related to port occupation"),(0,r.kt)("p",null,"The related configuration items are described as follows:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Abbreviation"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"port"),(0,r.kt)("td",{parentName:"tr",align:"left"},"p"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The specified port to be occupied"),(0,r.kt)("td",{parentName:"tr",align:"left"},"int, such as 8080, required")))),(0,r.kt)("h4",{id:"example-for-simulating-port-occupation-using-the-command-line-mode"},"Example for simulating port occupation using the command-line mode"),(0,r.kt)("p",null,"Run the following command to simulate network bandwidth:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd attack network port --port 8080\n")),(0,r.kt)("h2",{id:"create-network-fault-experiments-using-service-mode"},"Create network fault experiments using service mode"),(0,r.kt)("p",null,"To create experiments using the service mode, follow the instructions below:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Run Chaosd in the service mode:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"chaosd server --port 31767\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Send a ",(0,r.kt)("inlineCode",{parentName:"p"},"POST")," HTTP request to the ",(0,r.kt)("inlineCode",{parentName:"p"},"/api/attack/process")," path of the Chaosd service."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X POST 172.16.112.130:31767/api/attack/process -H \"Content-Type:application/json\" -d '{fault-configuration}'\n")),(0,r.kt)("p",{parentName:"li"},"In the above command, you need to configure ",(0,r.kt)("inlineCode",{parentName:"p"},"fault-configuration")," according to the fault types. For the corresponding parameters, refer to the parameters and examples of each fault type in the following sections."))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"When running an experiment, remember to record the UID of the experiment. When you want to end the experiment corresponding to the UID, you need to send a ",(0,r.kt)("inlineCode",{parentName:"p"},"DELETE")," HTTP request to the ",(0,r.kt)("inlineCode",{parentName:"p"},"/api/attack/{uid}")," path of the Chaosd service.")),(0,r.kt)("h3",{id:"simulate-network-corruption-using-the-service-mode"},"Simulate network corruption using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-network-corruption"},"Parameters for simulating network corruption"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "corrupt"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"correlation"),(0,r.kt)("td",{parentName:"tr",align:null},"The correlation between the current latency and the previous one."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It is a percentage ranging from 0 to 100 (10 is 10%) ("0" by default).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"device"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic which only impact specific destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-address"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP protocol impacted by traffic."),(0,r.kt)("td",{parentName:"tr",align:null},"string. Supported protocols: tcp, udp, icmp, all (all network protocols).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic which only impact specific source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. Use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to delimit the specific port or to indicate the range of the ports, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-corruption-using-the-service-mode"},"Example for simulating network corruption using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"corrupt","device":"eth0","ip-address":"172.16.4.4","percent":"50"}\'\n')),(0,r.kt)("h3",{id:"simulate-network-corruption-using-the-service-mode-1"},"Simulate network corruption using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-network-corruption-1"},"Parameters for simulating network corruption"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "delay"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"correlation"),(0,r.kt)("td",{parentName:"tr",align:null},"The correlation between the current latency and the previous one."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It is a percentage ranging from 0 to 100 (10 is 10%) ("0" by default).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"device"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic which only impact specific destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-address"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"jitter"),(0,r.kt)("td",{parentName:"tr",align:null},"Range of the length of network delay time."),(0,r.kt)("td",{parentName:"tr",align:null},'string. The time units can be: ns, us (\xb5s), ms, s, m, h, such as "1ms".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"latency"),(0,r.kt)("td",{parentName:"tr",align:null},"Length of network delay time."),(0,r.kt)("td",{parentName:"tr",align:null},'string. The time units can be: ns, us (\u03bcs), ms, s, m, h, such as "1ms".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP protocol impacted by traffic."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic that only impacts specified source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-corruption-using-the-service-mode-1"},"Example for simulating network corruption using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"delay","device":"eth0","ip-address":"172.16.4.4","latency":"10ms"}\'\n')),(0,r.kt)("h3",{id:"simulate-network-duplication-using-the-service-mode"},"Simulate network duplication using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-network-duplication"},"Parameters for simulating network duplication"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "duplicate"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"correlation"),(0,r.kt)("td",{parentName:"tr",align:null},"The correlation between the percentage of current duplication occurrence and the previous one."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "0").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"device"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic that only impacts specified destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-address"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"percent"),(0,r.kt)("td",{parentName:"tr",align:null},"Ratio of network packet duplicate."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "1").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP protocol impacted by traffic."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic which only impact specific source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-duplication-using-the-service-mode"},"Example for simulating network duplication using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"duplicate","ip-address":"172.16.4.4","device":"eth0","percent":"50"}\'\n')),(0,r.kt)("h3",{id:"simulate-network-loss-using-the-service-mode"},"Simulate network loss using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-network-loss"},"Parameters for simulating network loss"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "loss"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"correlation"),(0,r.kt)("td",{parentName:"tr",align:null},"The correlation between the percentage of the current network loss and the previous one."),(0,r.kt)("td",{parentName:"tr",align:null},'string, it is a percentage which range is 0 to 100 (10 is 10%) (default "0").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"device"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the impacted network interface card."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "eth0", required.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"egress-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic that only impacts specified destination ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"The host name impacted by traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-address"),(0,r.kt)("td",{parentName:"tr",align:null},"The IP address impacted by egress traffic. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"percent"),(0,r.kt)("td",{parentName:"tr",align:null},"Ratio of network packet loss."),(0,r.kt)("td",{parentName:"tr",align:null},'string. It is a percentage which range is 0 to 100 (10 is 10%) (default "1").')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"Only impact traffic using this IP protocol."),(0,r.kt)("td",{parentName:"tr",align:null},'string, it supports the following protocol types: "tcp", "udp", "icmp", "all" (all network protocols).')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source-port"),(0,r.kt)("td",{parentName:"tr",align:null},"The egress traffic which only impact specific source ports. It can only be configured when the protocol is TCP or UDP."),(0,r.kt)("td",{parentName:"tr",align:null},"string. You need to use a ",(0,r.kt)("inlineCode",{parentName:"td"},","),' to separate the specific port or to indicate the range of the port, such as "80,8001:8010".')))),(0,r.kt)("h4",{id:"example-for-simulating-network-loss-using-the-service-mode"},"Example for simulating network loss using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"loss","ip-address":"172.16.4.4","device":"eth0","percent":"50"}\'\n')),(0,r.kt)("h3",{id:"simulate-network-partition-using-the-service-mode"},"Simulate network partition using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-network-partition"},"Parameters for simulating network partition"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "partition"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"accept-tcp-flags"),(0,r.kt)("td",{parentName:"tr",align:null},"Only the packet which match the tcp flag can be accepted, others will be dropped. Only set when the protocol is tcp."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "SYN,ACK SYN,ACK"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"device"),(0,r.kt)("td",{parentName:"tr",align:null},"The network interface to impact"),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "eth0", required')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"direction"),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the partition direction, values can be 'to', 'from' or 'both'. 'from' means packets coming from the 'ip-address' or 'hostname' and going to your server, 'to' means packets originating from your server and going to the 'ip-address' or 'hostname'."),(0,r.kt)("td",{parentName:"tr",align:null},'string, values can be "to", "from" or "both" (default "both")')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"Only impact traffic to these hostnames. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-address"),(0,r.kt)("td",{parentName:"tr",align:null},"Only impact egress traffic to these IP addresses. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "192.168.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"Only impact traffic using this IP protocol"),(0,r.kt)("td",{parentName:"tr",align:null},"string. It supports the following protocol types: tcp, udp, icmp, all (all network protocols).")))),(0,r.kt)("h4",{id:"example-for-simulating-network-partition-using-the-service-mode"},"Example for simulating network partition using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"partition","ip-address":"172.16.4.4","device":"eth0","direction":"from"}\'\n')),(0,r.kt)("h3",{id:"simulate-dns-fault-using-the-service-mode"},"Simulate DNS fault using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-dns-fault"},"Parameters for simulating DNS fault"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "dns"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dns-domain-name"),(0,r.kt)("td",{parentName:"tr",align:null},"Map this host to specified IP(dns-ip)"),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dns-ip"),(0,r.kt)("td",{parentName:"tr",align:null},"Map specified host(dns-domain-name) to this IP address"),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dns-server"),(0,r.kt)("td",{parentName:"tr",align:null},"Update the DNS server in /etc/resolv.conf with this value"),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123" (default "123.123.123.123")')))),(0,r.kt)("h4",{id:"example-for-simulating-dns-fault-using-the-service-mode"},"Example for simulating DNS fault using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"dns","dns-domain-name":"chaos-mesh.org","dns-ip":"123.123.123.123"}\'\n')),(0,r.kt)("h3",{id:"simulate-network-bandwidth-using-the-service-mode"},"Simulate network bandwidth using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-network-bandwidth"},"Parameters for simulating network bandwidth"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "bandwidth"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"buffer"),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum amount of bytes that tokens can be available for instantaneously"),(0,r.kt)("td",{parentName:"tr",align:null},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"),", required")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"device"),(0,r.kt)("td",{parentName:"tr",align:null},"The network interface to impact"),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "eth0", required')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"hostname"),(0,r.kt)("td",{parentName:"tr",align:null},"Only impact traffic to these hostnames. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. when ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "chaos-mesh.org".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ip-address"),(0,r.kt)("td",{parentName:"tr",align:null},"Only impact egress traffic to these IP addresses. ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," cannot be empty at the same time. When ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address")," are set at the same time, the configuration item affects both the specified ",(0,r.kt)("inlineCode",{parentName:"td"},"hostname")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ip-address"),"."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "123.123.123.123".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"limit"),(0,r.kt)("td",{parentName:"tr",align:null},"The number of bytes that can be queued waiting for tokens to become available"),(0,r.kt)("td",{parentName:"tr",align:null},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"),", required")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"minburst"),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the size of the peakrate bucket"),(0,r.kt)("td",{parentName:"tr",align:null},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"peakrate"),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum depletion rate of the bucket"),(0,r.kt)("td",{parentName:"tr",align:null},"int, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"10000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rate"),(0,r.kt)("td",{parentName:"tr",align:null},"The speed knob, allows bps, kbps, mbps, gbps, tbps unit. The bps unit means bytes per second."),(0,r.kt)("td",{parentName:"tr",align:null},'string, such as "1mbps", required')))),(0,r.kt)("h4",{id:"example-for-simulating-network-bandwidth-using-the-service-mode"},"Example for simulating network bandwidth using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"bandwidth","buffer":10000,"limit":10000,"rate":"10mbps","device":"eth0"}\'\n')),(0,r.kt)("h3",{id:"simulate-port-occupation-using-the-service-mode"},"Simulate port occupation using the service mode"),(0,r.kt)("h4",{id:"parameters-for-simulating-port-occupation"},"Parameters for simulating port occupation"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"Action of the experiment."),(0,r.kt)("td",{parentName:"tr",align:null},'set to "occupied"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"port"),(0,r.kt)("td",{parentName:"tr",align:null},"The specified port to be occupied."),(0,r.kt)("td",{parentName:"tr",align:null},"int, such as 8080, required")))),(0,r.kt)("h4",{id:"example-for-simulating-port-occupation-using-the-service-mode"},"Example for simulating port occupation using the service mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST 172.16.112.130:31767/api/attack/network -H "Content-Type:application/json" -d \'{"action":"occupied","port":8080}\'\n')))}p.isMDXComponent=!0}}]);