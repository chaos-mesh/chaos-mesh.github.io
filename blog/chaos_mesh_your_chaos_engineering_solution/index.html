<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chaos Mesh RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chaos Mesh Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-90760217-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="Chaos Mesh" href="/opensearch.xml"><title data-rh="true">Chaos Mesh - Your Chaos Engineering Solution for System Resiliency on Kubernetes | Chaos Mesh</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://chaos-mesh.org/blog/chaos_mesh_your_chaos_engineering_solution/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Chaos Mesh - Your Chaos Engineering Solution for System Resiliency on Kubernetes | Chaos Mesh"><meta data-rh="true" name="description" content="Chaos Engineering"><meta data-rh="true" property="og:description" content="Chaos Engineering"><meta data-rh="true" property="og:image" content="https://chaos-mesh.org/img/chaos-engineering.png"><meta data-rh="true" name="twitter:image" content="https://chaos-mesh.org/img/chaos-engineering.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-01-15T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/cwen0"><meta data-rh="true" property="article:tag" content="Chaos Mesh,Chaos Engineering,Kubernetes"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://chaos-mesh.org/blog/chaos_mesh_your_chaos_engineering_solution/"><link data-rh="true" rel="alternate" href="https://chaos-mesh.org/blog/chaos_mesh_your_chaos_engineering_solution/" hreflang="en"><link data-rh="true" rel="alternate" href="https://chaos-mesh.org/zh/blog/chaos_mesh_your_chaos_engineering_solution/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://chaos-mesh.org/blog/chaos_mesh_your_chaos_engineering_solution/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3BY0S3HQX6-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a6d06de6.css">
<link rel="preload" href="/assets/js/runtime~main.5b4e276a.js" as="script">
<link rel="preload" href="/assets/js/main.125f2c4c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Chaos Mesh</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">2.3.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/">Next</a></li><li><a class="dropdown__link" href="/docs/">2.3.1</a></li><li><a class="dropdown__link" href="/docs/2.2.3/">2.2.3</a></li><li><a class="dropdown__link" href="/docs/2.1.8/">2.1.8</a></li><li><a class="dropdown__link" href="/docs/2.0.7/">2.0.7</a></li><li><a class="dropdown__link" href="/docs/1.2.4/">1.2.4</a></li><li><a class="dropdown__link" href="/docs/1.1.4/">1.1.4</a></li><li><a class="dropdown__link" href="/docs/1.0.3/">1.0.3</a></li><li><a class="dropdown__link" href="/docs/0.9.1/">0.9.1</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/interactive-tutorial/">Interactive Tutorial</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/blog/chaos_mesh_your_chaos_engineering_solution/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/zh/blog/chaos_mesh_your_chaos_engineering_solution/" target="_self" rel="noopener noreferrer" class="dropdown__link">简体中文</a></li></ul></div><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/chaos-mesh-qa-at-kubecon-eu-2022/">Chaos Mesh Q&amp;A at KUBECON EU 2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/experience-as-a-chaos-mesh-lfx-mentee/">Experience as an LFX Mentee for Chaos Mesh</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/develop-a-daily-reporting-system/">How to Develop a Daily Reporting System to Track Chaos Testing Results</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/share-your-chaos-mesh-story/">Share your #ChaosMeshStory!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploy-chaos-mesh-on-kubesphere/">Deploy Chaos Mesh on KubeSphere</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://chaos-mesh.org/img/chaos-engineering.png"><header><h1 class="title_f1Hy" itemprop="headline">Chaos Mesh - Your Chaos Engineering Solution for System Resiliency on Kubernetes</h1><div class="container_mt6G margin-vert--md"><time datetime="2020-01-15T00:00:00.000Z" itemprop="datePublished">January 15, 2020</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/cwen0" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars1.githubusercontent.com/u/22956341?v=4" alt="Cwen Yin"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/cwen0" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Cwen Yin</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Chaos Mesh</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="Chaos Engineering" src="/assets/images/chaos-engineering-0a7a0b74bf0c31599b29b2ddc1069830.png" width="900" height="402" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-chaos-mesh">Why Chaos Mesh?<a class="hash-link" href="#why-chaos-mesh" title="Direct link to heading">​</a></h2><p>In the world of distributed computing, faults can happen to your clusters unpredictably any time, anywhere. Traditionally we have unit tests and integration tests that guarantee a system is production ready, but these cover just the tip of the iceberg as clusters scale, complexities amount, and data volumes increase by PB levels. To better identify system vulnerabilities and improve resilience, Netflix invented <a href="https://netflix.github.io/chaosmonkey/" target="_blank" rel="noopener noreferrer">Chaos Monkey</a> and injects various types of faults into the infrastructure and business systems. This is how Chaos Engineering was originated.</p><p>At <a href="https://chaos-mesh.org/" target="_blank" rel="noopener noreferrer">PingCAP</a>, we are facing the same problem while building <a href="https://github.com/pingcap/tidb" target="_blank" rel="noopener noreferrer">TiDB</a>, an open source distributed NewSQL database. To be fault tolerant, or resilient holds especially true to us, because the most important asset for any database users, the data itself, is at stake. To ensure resilience, we started <a href="https://pingcap.com/blog/chaos-practice-in-tidb/" target="_blank" rel="noopener noreferrer">practicing Chaos Engineering</a> internally in our testing framework from a very early stage. However, as TiDB grew, so did the testing requirements. We realized that we needed a universal chaos testing platform, not just for TiDB, but also for other distributed systems.</p><p>Therefore, we present to you Chaos Mesh, a cloud-native Chaos Engineering platform that orchestrates chaos experiments on Kubernetes environments. It&#x27;s an open source project available at <a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer">https://github.com/chaos-mesh/chaos-mesh</a>.</p><p>In the following sections, I will share with you what Chaos Mesh is, how we design and implement it, and finally I will show you how you can use it in your environment.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-can-chaos-mesh-do">What can Chaos Mesh do?<a class="hash-link" href="#what-can-chaos-mesh-do" title="Direct link to heading">​</a></h2><p>Chaos Mesh is a versatile Chaos Engineering platform that features all-around fault injection methods for complex systems on Kubernetes, covering faults in Pod, network, file system, and even the kernel.</p><p>Here is an example of how we use Chaos Mesh to locate a TiDB system bug. In this example, we simulate Pod downtime with our distributed storage engine (<a href="https://docs.pingcap.com/tidb/stable/tidb-architecture#tikv-server" target="_blank" rel="noopener noreferrer">TiKV</a>) and observe changes in queries per second (QPS). Regularly, if one TiKV node is down, the QPS may experience a transient jitter before it returns to the level before the failure. This is how we guarantee high availability.</p><p><img loading="lazy" alt="Chaos Mesh discovers downtime recovery exceptions in TiKV" src="/assets/images/chaos-mesh-discovers-downtime-recovery-exceptions-in-tikv-1d52a2abba675a8b9ee6d00660c5e7b0.png" width="600" height="290" class="img_ev3q"></p><div class="caption-center"> Chaos Mesh discovers downtime recovery exceptions in TiKV</div><p>As you can see from the dashboard:</p><ul><li>During the first two downtimes, the QPS returns to normal after about 1 minute.</li><li>After the third downtime, however, the QPS takes much longer to recover—about 9 minutes. Such a long downtime is unexpected, and it would definitely impact online services.</li></ul><p>After some diagnosis, we found the TiDB cluster version under test (V3.0.1) had some tricky issues when handling TiKV downtimes. We resolved these issues in later versions.</p><p>But Chaos Mesh can do a lot more than just simulate downtime. It also includes these fault injection methods:</p><ul><li><strong>pod-kill:</strong> Simulates Kubernetes Pods being killed</li><li><strong>pod-failure:</strong> Simulates Kubernetes Pods being continuously unavailable</li><li><strong>network-delay:</strong> Simulates network delay</li><li><strong>network-loss:</strong> Simulates network packet loss</li><li><strong>network-duplication:</strong> Simulates network packet duplication</li><li><strong>network-corrupt:</strong> Simulates network packet corruption</li><li><strong>network-partition:</strong> Simulates network partition</li><li><strong>I/O delay:</strong> Simulates file system I/O delay</li><li><strong>I/O errno:</strong> Simulates file system I/O errors</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="design-principles">Design principles<a class="hash-link" href="#design-principles" title="Direct link to heading">​</a></h2><p>We designed Chaos Mesh to be easy to use, scalable, and designed for Kubernetes.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="easy-to-use">Easy to use<a class="hash-link" href="#easy-to-use" title="Direct link to heading">​</a></h3><p>To be easy to use, Chaos Mesh must:</p><ul><li>Require no special dependencies, so that it can be deployed directly on Kubernetes clusters, including <a href="https://github.com/kubernetes/minikube" target="_blank" rel="noopener noreferrer">Minikube</a>.</li><li>Require no modification to the deployment logic of the system under test (SUT), so that chaos experiments can be performed in a production environment.</li><li>Easily orchestrate fault injection behaviors in chaos experiments, and easily view experiment status and results. You should also be able to quickly rollback injected failures.</li><li>Hide underlying implementation details so that users can focus on orchestrating the chaos experiments.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scalable">Scalable<a class="hash-link" href="#scalable" title="Direct link to heading">​</a></h3><p>Chaos Mesh should be scalable, so that we can &quot;plug&quot; new requirements into it conveniently without reinventing the wheel. Specifically, Chaos Mesh must:</p><ul><li>Leverage existing implementations so that fault injection methods can be easily scaled.</li><li>Easily integrate with other testing frameworks.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="designed-for-kubernetes">Designed for Kubernetes<a class="hash-link" href="#designed-for-kubernetes" title="Direct link to heading">​</a></h3><p>In the container world, Kubernetes is the absolute leader. Its growth rate of adoption is far beyond everybody&#x27;s expectations, and it has won the war of containerized orchestration. In essence, Kubernetes is an operating system for the cloud.</p><p>TiDB is a cloud-native distributed database. Our internal automated testing platform was built on Kubernetes from the beginning. We had hundreds of TiDB clusters running on Kubernetes every day for various experiments, including extensive chaos testing to simulate all kinds of failures or issues in a production environment. To support these chaos experiments, the combination of chaos and Kubernetes became a natural choice and principle for our implementation.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customresourcedefinitions-design">CustomResourceDefinitions design<a class="hash-link" href="#customresourcedefinitions-design" title="Direct link to heading">​</a></h2><p>Chaos Mesh uses <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/" target="_blank" rel="noopener noreferrer">CustomResourceDefinitions</a> (CRD) to define chaos objects. In the Kubernetes realm, CRD is a mature solution for implementing custom resources, with abundant implementation cases and toolsets available. Using CRD makes Chaos Mesh naturally integrate with the Kubernetes ecosystem.</p><p>Instead of defining all types of fault injections in a unified CRD object, we allow flexible and separate CRD objects for different types of fault injection. If we add a fault injection method that conforms to an existing CRD object, we scale directly based on this object; if it is a completely new method, we create a new CRD object for it. With this design, chaos object definitions and the logic implementation are extracted from the top level, which makes the code structure clearer. This approach also reduces the degree of coupling and the probability of errors. In addition, Kubernetes&#x27; <a href="https://github.com/kubernetes-sigs/controller-runtime" target="_blank" rel="noopener noreferrer">controller-runtime</a> is a great wrapper for implementing controllers. This saves us a lot of time because we don&#x27;t have to repeatedly implement the same set of controllers for each CRD project.</p><p>Chaos Mesh implements the PodChaos, NetworkChaos, and IOChaos objects. The names clearly identify the corresponding fault injection types.</p><p>For example, Pod crashing is a very common problem in a Kubernetes environment. Many native resource objects automatically handle such errors with typical actions such as creating a new Pod. But can our application really deal with such errors? What if the Pod won&#x27;t start?</p><p>With well-defined actions such as <code>pod-kill</code>, PodChaos can help us pinpoint these kinds of issues more effectively. The PodChaos object uses the following code:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> pod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">kill</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> one</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">cluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token key atrule">labelSelectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">&quot;app.kubernetes.io/component&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tikv&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">scheduler</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token key atrule">cron</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;@every 2m&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code does the following:</p><ul><li>The <code>action</code> attribute defines the specific error type to be injected. In this case, <code>pod-kill</code> kills Pods randomly.</li><li>The <code>selector</code> attribute limits the scope of chaos experiment to a specific scope. In this case, the scope is TiKV Pods for the TiDB cluster with the <code>tidb-cluster-demo</code> namespace.</li><li>The <code>scheduler</code> attribute defines the interval for each chaos fault action.</li></ul><p>For more details on CRD objects such as NetworkChaos and IOChaos, see the <a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer">Chaos-mesh documentation</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-does-chaos-mesh-work">How does Chaos Mesh work?<a class="hash-link" href="#how-does-chaos-mesh-work" title="Direct link to heading">​</a></h2><p>With the CRD design settled, let&#x27;s look at the big picture on how Chaos Mesh works. The following major components are involved:</p><ul><li><p><strong>controller-manager</strong></p><p>Acts as the platform&#x27;s &quot;brain.&quot; It manages the life cycle of CRD objects and schedules chaos experiments. It has object controllers for scheduling CRD object instances, and the <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">admission-webhooks</a> controller dynamically injects sidecar containers into Pods.</p></li><li><p><strong>chaos-daemon</strong></p><p>Runs as a privileged DaemonSet that can operate network devices on the node and Cgroup.</p></li><li><p><strong>sidecar</strong></p><p>Runs as a special type of container that is dynamically injected into the target Pod by the admission-webhooks. For example, the <code>chaosfs</code> sidecar container runs a fuse-daemon to hijack the I/O operation of the application container.</p></li></ul><p><img loading="lazy" alt="Chaos Mesh workflow" src="/assets/images/chaos-mesh-workflow-0ae9b7507c78c0e54f10971f6ecca876.png" width="600" height="235" class="img_ev3q"></p><div class="caption-center"> Chaos Mesh workflow </div><p>Here is how these components streamline a chaos experiment:</p><ol><li>Using a YAML file or Kubernetes client, the user creates or updates chaos objects to the Kubernetes API server.</li><li>Chaos Mesh uses the API server to watch the chaos objects and manages the lifecycle of chaos experiments through creating, updating, or deleting events. In this process, controller-manager, chaos-daemon, and sidecar containers work together to inject errors.</li><li>When admission-webhooks receives a Pod creation request, the Pod object to be created is dynamically updated; for example, it is injected into the sidecar container and the Pod.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="running-chaos">Running chaos<a class="hash-link" href="#running-chaos" title="Direct link to heading">​</a></h2><p>The above sections introduce how we design Chaos Mesh and how it works. Now let&#x27;s get down to business and show you how to use Chaos Mesh. Note that the chaos testing time may vary depending on the complexity of the application to be tested and the test scheduling rules defined in the CRD.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="preparing-the-environment">Preparing the environment<a class="hash-link" href="#preparing-the-environment" title="Direct link to heading">​</a></h3><p>Chaos Mesh runs on Kubernetes v1.12 or later. Helm, a Kubernetes package management tool, deploys and manages Chaos Mesh. Before you run Chaos Mesh, make sure that Helm is properly installed in the Kubernetes cluster. To set up the environment, do the following:</p><ol><li><p>Make sure you have a Kubernetes cluster. If you do, skip to step 2; otherwise, start one locally using the script provided by Chaos Mesh:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> kind</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -Lo ./kind https://github.com/kubernetes-sigs/kind/releases/download/v0.6.1/kind-</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">uname</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain">-amd64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">chmod</span><span class="token plain"> +x ./kind</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">mv</span><span class="token plain"> ./kind /some-dir-in-your-</span><span class="token environment constant" style="color:rgb(189, 147, 249)">PATH</span><span class="token plain">/kind</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// get script</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/chaos-mesh/chaos-mesh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> chaos-mesh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// start cluster</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hack/kind-cluster-build.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note:</strong> Starting Kubernetes clusters locally affects network-related fault injections.</p></li><li><p>If the Kubernetes cluster is ready, use <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a> and <a href="https://kubernetes.io/docs/reference/kubectl/overview/" target="_blank" rel="noopener noreferrer">Kubectl</a> to deploy Chaos Mesh:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/chaos-mesh/chaos-mesh.git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> chaos-mesh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// create CRD resource</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f manifests/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> chaos-mesh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">helm </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> helm/chaos-mesh --name</span><span class="token operator">=</span><span class="token plain">chaos-mesh --namespace</span><span class="token operator">=</span><span class="token plain">chaos-testing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Wait until all components are installed, and check the installation status using:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// check chaos-mesh status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get pods --namespace chaos-testing -l app.kubernetes.io/instance</span><span class="token operator">=</span><span class="token plain">chaos-mesh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the installation is successful, you can see all pods up and running. Now, time to play.</p><p>You can run Chaos Mesh using a YAML definition or a Kubernetes API.</p></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="running-chaos-using-a-yaml-file">Running chaos using a YAML file<a class="hash-link" href="#running-chaos-using-a-yaml-file" title="Direct link to heading">​</a></h3><p>You can define your own chaos experiments through the YAML file method, which provides a fast, convenient way to conduct chaos experiments after you deploy the application. To run chaos using a YAML file, follow the steps below:</p><p><strong>Note:</strong> For illustration purposes, we use TiDB as our system under test. You can use a target system of your choice, and modify the YAML file accordingly.</p><ol><li><p>Deploy a TiDB cluster named <code>chaos-demo-1</code>. You can use <a href="https://github.com/pingcap/tidb-operator" target="_blank" rel="noopener noreferrer">TiDB Operator</a> to deploy TiDB.</p></li><li><p>Create the YAML file named <code>kill-tikv.yaml</code> and add the following content:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mesh.org/v1alpha1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> PodChaos</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> pod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">kill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">testing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> pod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">kill</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> one</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">demo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">labelSelectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">&#x27;app.kubernetes.io/component&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tikv&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">scheduler</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">cron</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@every 1m&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Save the file.</p></li><li><p>To start chaos, <code>kubectl apply -f kill-tikv.yaml</code>.</p></li></ol><p>The following chaos experiment simulates the TiKV Pods being frequently killed in the <code>chaos-demo-1</code> cluster:</p><p><img loading="lazy" alt="Chaos experiment running" src="/assets/images/chaos-experiment-running-797059e0d5752cc6a247970e20d22991.gif" width="512" height="288" class="img_ev3q"></p><div class="caption-center"> Chaos experiment running </div><p>We use a sysbench program to monitor the real-time QPS changes in the TiDB cluster. When errors are injected into the cluster, the QPS show a drastic jitter, which means a specific TiKV Pod has been deleted, and Kubernetes then re-creates a new TiKV Pod.</p><p>For more YAML file examples, see <a href="https://github.com/chaos-mesh/chaos-mesh/tree/master/examples" target="_blank" rel="noopener noreferrer">https://github.com/chaos-mesh/chaos-mesh/tree/master/examples</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="running-chaos-using-the-kubernetes-api">Running chaos using the Kubernetes API<a class="hash-link" href="#running-chaos-using-the-kubernetes-api" title="Direct link to heading">​</a></h3><p>Chaos Mesh uses CRD to define chaos objects, so you can manipulate CRD objects directly through the Kubernetes API. This way, it is very convenient to apply Chaos Mesh to your own applications with customized test scenarios and automated chaos experiments.</p><p>In the <a href="https://github.com/pingcap/tipocket/tree/35206e8483b66f9728b7b14823a10b3e4114e0e3/test-infra" target="_blank" rel="noopener noreferrer">test-infra</a> project, we simulate potential errors in <a href="https://github.com/pingcap/tipocket/blob/35206e8483b66f9728b7b14823a10b3e4114e0e3/test-infra/tests/etcd/nemesis_test.go" target="_blank" rel="noopener noreferrer">etcd</a> clusters on Kubernetes, including nodes restarting, network failure, and file system failure.</p><p>The following is a Chaos Mesh sample script using the Kubernetes API:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;context&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> &quot;github.com/chaos-mesh/chaos-mesh/api/v1alpha1&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;sigs.k8s.io/controller-runtime/pkg/client&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  delay := &amp;chaosv1alpha1.NetworkChaos{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Spec: chaosv1alpha1.NetworkChaosSpec{...},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      k8sClient := client.New(conf, client.Options{ Scheme: scheme.Scheme })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  k8sClient.Create(context.TODO(), delay)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      k8sClient.Delete(context.TODO(), delay)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-does-the-future-hold">What does the future hold?<a class="hash-link" href="#what-does-the-future-hold" title="Direct link to heading">​</a></h2><p>In this article, we introduced you to Chaos Mesh, our open source cloud-native Chaos Engineering platform. There are still many pieces in progress, with more details to unveil regarding the design, use cases, and development. Stay tuned.</p><p>Open sourcing is just a starting point. In addition to the infrastructure-level chaos experiments introduced in previous sections, we are in the process of supporting a wider range of fault types of finer granularity, such as:</p><ul><li>Injecting errors at the system call and kernel levels with the assistance of eBPF and other tools</li><li>Injecting specific error types into the application function and statement levels by integrating <a href="https://github.com/pingcap/failpoint" target="_blank" rel="noopener noreferrer">failpoint</a>, which will cover scenarios that are otherwise impossible with conventional injection methods</li></ul><p>Moving forward, we will continuously improve the Chaos Mesh Dashboard, so that users can easily see if and how their online businesses are impacted by fault injections. In addition, our roadmap includes an easy-to-use fault orchestration interface. We&#x27;re planning other cool features, such as Chaos Mesh Verifier and Chaos Mesh Cloud.</p><p>If any of these sound interesting to you, join us in building a world class Chaos Engineering platform. May our applications dance in chaos on Kubernetes!</p><p>If you find a bug or think something is missing, feel free to file an <a href="https://github.com/chaos-mesh/chaos-mesh/issues" target="_blank" rel="noopener noreferrer">issue</a>, open a PR, or message us in the #project-chaos-mesh channel in the <a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer">CNCF Slack</a> workspace.</p><p>GitHub: <a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer">https://github.com/chaos-mesh/chaos-mesh</a></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/chaos-mesh/">Chaos Mesh</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/chaos-engineering/">Chaos Engineering</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kubernetes/">Kubernetes</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/chaos-mesh/website/edit/master/blog/2020-01-15-chaos-mesh-your-chaos-engineering-solution.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/run_your_first_chaos_experiment/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Run Your First Chaos Experiment in 10 Minutes</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-chaos-mesh" class="table-of-contents__link toc-highlight">Why Chaos Mesh?</a></li><li><a href="#what-can-chaos-mesh-do" class="table-of-contents__link toc-highlight">What can Chaos Mesh do?</a></li><li><a href="#design-principles" class="table-of-contents__link toc-highlight">Design principles</a><ul><li><a href="#easy-to-use" class="table-of-contents__link toc-highlight">Easy to use</a></li><li><a href="#scalable" class="table-of-contents__link toc-highlight">Scalable</a></li><li><a href="#designed-for-kubernetes" class="table-of-contents__link toc-highlight">Designed for Kubernetes</a></li></ul></li><li><a href="#customresourcedefinitions-design" class="table-of-contents__link toc-highlight">CustomResourceDefinitions design</a></li><li><a href="#how-does-chaos-mesh-work" class="table-of-contents__link toc-highlight">How does Chaos Mesh work?</a></li><li><a href="#running-chaos" class="table-of-contents__link toc-highlight">Running chaos</a><ul><li><a href="#preparing-the-environment" class="table-of-contents__link toc-highlight">Preparing the environment</a></li><li><a href="#running-chaos-using-a-yaml-file" class="table-of-contents__link toc-highlight">Running chaos using a YAML file</a></li><li><a href="#running-chaos-using-the-kubernetes-api" class="table-of-contents__link toc-highlight">Running chaos using the Kubernetes API</a></li></ul></li><li><a href="#what-does-the-future-hold" class="table-of-contents__link toc-highlight">What does the future hold?</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start/">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/run-a-chaos-experiment/">Run a Chaos Experiment</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer-guide-overview/">Developer Guide Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faqs/">FAQs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/chaos_mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack (#project-chaos-mesh)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Others</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>© Chaos Mesh Authors 2022 | Documentation Distributed under CC-BY-4.0 </strong>
        <br>
        <br>
        © 2022 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.5b4e276a.js"></script>
<script src="/assets/js/main.125f2c4c.js"></script>
</body>
</html>