<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chaos MeshÂ® Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chaos MeshÂ® Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-90760217-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Chaos MeshÂ®" href="/opensearch.xml"><title data-react-helmet="true">How to efficiently stress test Pod memory | Chaos MeshÂ®</title><meta data-react-helmet="true" property="og:title" content="How to efficiently stress test Pod memory | Chaos MeshÂ®"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="banner"><meta data-react-helmet="true" property="og:description" content="banner"><meta data-react-helmet="true" property="og:url" content="https://chaos-mesh.org/blog/how-to-efficiently-stress-test-pod-memory"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:image" content="https://chaos-mesh.org/img/how-to-efficiently-stress-test-pod-memory-banner.jpg"><meta data-react-helmet="true" name="twitter:image" content="https://chaos-mesh.org/img/how-to-efficiently-stress-test-pod-memory-banner.jpg"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chaos-mesh.org/blog/how-to-efficiently-stress-test-pod-memory"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/blog/how-to-efficiently-stress-test-pod-memory" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/blog/how-to-efficiently-stress-test-pod-memory" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.5b15a2c7.css">
<link rel="preload" href="/assets/js/runtime~main.a1e88c6b.js" as="script">
<link rel="preload" href="/assets/js/main.aac3a0ad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Chaos MeshÂ®</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link" href="/docs/">2.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/">Next</a></li><li><a class="dropdown__link" href="/docs/">2.0.0</a></li><li><a class="dropdown__link" href="/docs/1.2.3/">1.2.3</a></li><li><a class="dropdown__link" href="/docs/1.1.4/">1.1.4</a></li><li><a class="dropdown__link" href="/docs/1.0.3/">1.0.3</a></li><li><a class="dropdown__link" href="/docs/0.9.1/">0.9.1</a></li></ul></div><a class="navbar__item navbar__link" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/interactive-tutorial">Interactive Tutorial</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://chaos-mesh.org/website-zh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>ä¸­æ–‡<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/How-Chaos-Mesh-Helps-Apache-APISIX-Improve-System-Stability">How Chaos Mesh Helps Apache APISIX Improve System Stability</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/chaos-mesh-2.0-to-a-chaos-engineering-ecology">Chaos Mesh 2.0: To a Chaos Engineering Ecology</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/chaos-mesh-celebrates-100th-contributor">Chaos MeshÂ® Celebrates 100th Contributor</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/chaos-mesh-q&amp;a">Chaos MeshÂ® Q&amp;A</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/securing-tenant-namespaces-using-restrict-authorization-feature">Securing tenant namespaces using restrict authorization feature in Chaos MeshÂ®</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="blogPostTitle_GeHD">How to efficiently stress test Pod memory</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-07-01T00:00:00.000Z">July 1, 2021</time> Â· 11 min read</div><div class="avatar margin-vert--md"><a href="https://github.com/AsterNighT" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/u/22937027?v=4" alt="Yinghao Wang"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/AsterNighT" target="_blank" rel="noopener noreferrer">Yinghao Wang</a></div><small class="avatar__subtitle">Contributor of Chaos Mesh</small></div></div></header><div class="markdown"><p><img alt="banner" src="/assets/images/how-to-efficiently-stress-test-pod-memory-banner-3dd86c1ed5645a75c8cd7c2236a7c41a.jpg"></p><p><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer">Chaos Mesh</a> includes the StressChaos tool, which allows you to inject CPU and memory stress into your Pod. This tool can be very useful when you test or benchmark a CPU-sensitive or memory-sensitive program and want to know its behavior under pressure.</p><p>However, as we tested and used StressChaos, we found some issues with usability and performance. For example, why does StressChaos use far less memory than we configured? To correct these issues, we developed a new set of tests. In this article, I&#x27;ll describe how we troubleshooted these issues and corrected them. This information will enable you to get the most out of StressChaos.</p><p>Before you continue, you need to install Chaos Mesh in your cluster. You can find detailed instructions on our <a href="https://chaos-mesh.org/docs/quick-start" target="_blank" rel="noopener noreferrer">website</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="injecting-stress-into-a-target"></a>Injecting stress into a target<a class="hash-link" href="#injecting-stress-into-a-target" title="Direct link to heading">#</a></h2><p>Iâ€™d like to demonstrate how to inject StressChaos into a target. In this example, Iâ€™ll use <a href="https://github.com/paulbouwer/hello-kubernetes" target="_blank" rel="noopener noreferrer"><code>hello-kubernetes</code></a>, which is managed by <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">helm charts</a>. The first step is to clone the <a href="https://github.com/paulbouwer/hello-kubernetes" target="_blank" rel="noopener noreferrer"><code>hello-kubernetes</code></a> repo and modify the chart to give it a resource limit.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><div tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/paulbouwer/hello-kubernetes.git</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">code deploy/helm/hello-kubernetes/values.yaml </span><span class="token comment" style="color:rgb(98, 114, 164)"># or whichever editor you prefer</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Find the resources line, and change it into:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">requests</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;200Mi&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">limits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;500Mi&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>However, before we inject anything, let&#x27;s see how much memory the target is consuming. Go into the Pod and start a shell. Enter the following, substituting the name of your Pod for the one in the example:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><div tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">exec</span><span class="token plain"> -it -n hello-kubernetes hello-kubernetes-hello-world-b55bfcf68-8mln6 -- /bin/sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Display a summary of memory usage. Enter:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ free -m</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ top</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>As you can see from the output below, the Pod is consuming 4,269 MB of memory.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ free -m</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">              used</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Mem:          4269</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Swap:            0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ top</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Mem: 12742432K used</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  PID  PPID USER     STAT   VSZ %VSZ CPU %CPU COMMAND</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    1     0 node     S     285m   2%   0   0% npm start</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   18     1 node     S     284m   2%   3   0% node server.js</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   29     0 node     S     1636   0%   2   0% /bin/sh</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   36    29 node     R     1568   0%   3   0% top</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>That doesnâ€™t seem right. Weâ€™ve limited its memory usage to 500 MiBs, and now the Pod seems to be using several GBs of memory. If we total the amount of process memory being used, it doesnâ€™t equal 500 MiB. However, top and free at least give similar answers.</p><p>We will run a StressChaos on the Pod and see what happens. Here&#x27;s the yaml weâ€™ll use:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mesh.org/v1alpha1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> StressChaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> mem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stress</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">testing</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> all</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> hello</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">kubernetes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">stressors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">workers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 50MiB</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">duration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1h&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Save the yaml to a file. I named it <code>memory.yaml</code>. To apply the chaos, run</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><div tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">~ kubectl apply -f memory.yaml</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">stresschaos.chaos-mesh.org/mem-stress created</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Now, let&#x27;s check the memory usage again.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">              used</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Mem:          4332</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Swap:            0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Mem: 12805568K used</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  PID  PPID USER     STAT   VSZ %VSZ CPU %CPU COMMAND</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   54    50 root     R    53252   0%   1  24% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   57    52 root     R    53252   0%   0  22% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   55    53 root     R    53252   0%   2  21% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   56    51 root     R    53252   0%   3  21% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   18     1 node     S     289m   2%   2   0% node server.js</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    1     0 node     S     285m   2%   0   0% npm start</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   51    49 root     S    41048   0%   0   0% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   50    49 root     S    41048   0%   2   0% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   52    49 root     S    41048   0%   0   0% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   53    49 root     S    41048   0%   3   0% {stress-ng-vm} stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   49     0 root     S    41044   0%   0   0% stress-ng --vm 4 --vm-keep --vm-bytes 50000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   29     0 node     S     1636   0%   3   0% /bin/sh</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   48    29 node     R     1568   0%   1   0% top</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>You can see that stress-ng instances are being injected into the Pod. There is a 60 MiB rise in the Pod, which we didnâ€™t expect. The <a href="https://manpages.ubuntu.com/manpages/artful/man1/stress-ng.1.html#:~:text=is%20not%20available.-,--vm-bytes%20N,-mmap%20N%20bytes" target="_blank" rel="noopener noreferrer">documentation</a> indicates that the increase should 200 MiB (4 * 50 MiB).</p><p>Let&#x27;s increase the stress by changing the memory stress from 50 MiB to 3,000 MiB. This should break the Podâ€™s memory limit. Iâ€™ll delete the chaos, modify the size, and reapply it.</p><p>And then, boom! The shell exits with code 137. A moment later, I reconnect to the container, and the memory usage returns to normal. No stress-ng instances are found! What happened?</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="why-does-stresschaos-disappear"></a>Why does StressChaos disappear?<a class="hash-link" href="#why-does-stresschaos-disappear" title="Direct link to heading">#</a></h2><p>Kubernetes limits your container memory usage through a mechanism named <a href="https://man7.org/linux/man-pages/man7/cgroups.7.html" target="_blank" rel="noopener noreferrer">cgroup</a>. To see the 500 MiB limit in our Pod, go to the container and enter:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><div tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ </span><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> /sys/fs/cgroup/memory/memory.limit_in_bytes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">524288000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>The output is displayed in bytes and translates to <code>500 * 1024 * 1024</code>.</p><p>Requests are used only for scheduling where to place the Pod. The Pod does not have a memory limit or request, but it can be seen as the sum of all its containers.</p><p>We&#x27;ve been making a mistake since the very beginning. free and top are not &quot;cgrouped.&quot; They rely on <code>/proc/meminfo</code> (procfs) for data. Unfortunately, <code>/proc/meminfo</code> is old, so old it predates cgroup. It will provide you with <strong>host</strong> memory information instead of your container. Let&#x27;s start from the beginning and see what memory usage we get this time.</p><p>To get the cgrouped memory usage, enter:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ cat /sys/fs/cgroup/memory/memory.usage_in_bytes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">39821312</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Applying the 50 MiB StressChaos, yields the following:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ cat /sys/fs/cgroup/memory/memory.usage_in_bytes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">93577216</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>That is about 51 MiB more memory usage than without StressChaos.</p><p>Next, why did our shell exit? Exit code 137 indicates &quot;failure as container received SIGKILL.&quot; That leads us to check the Pod. Pay attention to the Pod state and events.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><div tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">~ kubectl describe pods -n hello-kubernetes</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    Last State:     Terminated</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      Reason:       Error</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      Exit Code:    </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Events:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  Type     Reason     Age                  From               Message</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  ----     ------     ----                 ----               -------</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  Warning  Unhealthy  10m </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x4 over 16m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">    kubelet            Readiness probe failed: Get </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://10.244.1.19:8080/&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> context deadline exceeded </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Client.Timeout exceeded </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> awaiting headers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  Normal   Killing    10m </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">x2 over 16m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">    kubelet            Container hello-kubernetes failed liveness probe, will be restarted</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>The events tell us why the shell crashed. <code>hello-kubernetes</code> has a liveness probe, and when the container memory is reaching the limit, the application starts to fail, and Kubernetes decides to terminate and restart it. When the Pod restarts, StressChaos stops. In that case, you can say that the chaos works fine. It finds vulnerability in your Pod. You could now fix it, and reapply the chaos. Everything seems perfect nowâ€”except for one thing. Why do four 50 MiB vm workers result in 51 MiB in total? The answer will not reveal itself unless we go into the stress-ng source code <a href="https://github.com/ColinIanKing/stress-ng/blob/819f7966666dafea5264cf1a2a0939fd344fcf08/stress-vm.c#L2074" target="_blank" rel="noopener noreferrer">here</a> :</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W c"><div tabindex="0" class="prism-code language-c codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">vm_bytes </span><span class="token operator">/=</span><span class="token plain"> args</span><span class="token operator">-&gt;</span><span class="token plain">num_instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Oops! So the document is wrong. The multiple vm workers will take up the total size specified, rather than <code>mmap</code> that much memory per worker. Now, finally, we get an answer for everything. In the following sections, weâ€™ll discuss some other situations involving memory stress.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="what-if-there-was-no-liveness-probe"></a>What if there was no liveness probe?<a class="hash-link" href="#what-if-there-was-no-liveness-probe" title="Direct link to heading">#</a></h2><p>Let&#x27;s delete the probes and try again. Find the following lines in <code>deploy/helm/hello-kubernetes/templates/deployment.yaml</code> and delete them.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">livenessProbe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">httpGet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> http</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">readinessProbe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">httpGet</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> http</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>After that, upgrade the deployment.</p><p>What is interesting in this scenario is that the memory usage goes up continuously, and then drops sharply; it goes back and forth. What is happening now? Let&#x27;s check the kernel log. Pay attention to the last two lines.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/usr/src/app $ dmesg</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">......</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">[189937.362908] [ pid ]   uid  tgid total_vm      rss nr_ptes swapents oom_score_adj name</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">[189937.363092] [441060]  1000 441060    63955     3791      80     3030           988 node</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">[189937.363110] [441688]     0 441688   193367     2136     372   181097          1000 stress-ng-vm</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">......</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">[189937.363148] Memory cgroup out of memory: Kill process 443160 (stress-ng-vm) score 1272 or sacrifice child</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">[189937.363186] Killed process 443160 (stress-ng-vm), UID 0, total-vm:773468kB, anon-rss:152704kB, file-rss:164kB, shmem-rss:0kB</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>Itâ€™s clear from the output that the <code>stress-ng-vm</code> processes are being killed because there are out of memory (OOM) errors.</p><p>If processes canâ€™t get the memory they want, things get tricky. They are very likely to fail. Rather than wait for processes to crash, itâ€™s better if you kill some of them to get more memory. The OOM killer stops processes by an order and tries to recover the most memory while causing the least trouble. For detailed information on this process, see <a href="https://lwn.net/Articles/391222/" target="_blank" rel="noopener noreferrer">this introduction</a> to OOM killer.</p><p>Looking at the output above, you can see that <code>node</code>, which is our application process that should never be terminated, has an <code>oom_score_adj</code> of 988. That is quite dangerous since it is the process with the highest score to get killed. But there is a simple way to stop the OOM killer from killing a specific process. When you create a Pod, it is assigned a Quality of Service (QoS) class. For detailed information, see <a href="https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/" target="_blank" rel="noopener noreferrer">Configure Quality of Service for Pods</a>.</p><p>Generally, if you create a Pod with precisely-specified resource requests, it is classified as a <code>Guaranteed</code> Pod. OOM killers do not kill containers in a <code>Guaranteed</code> Pod if there are other things to kill. These entities include non-<code>Guaranteed</code> Pods and stress-ng workers. A Pod with no resource requests is marked as <code>BestEffort</code>, and the OOM killer stops it first.</p><p>So that&#x27;s all for the tour. Our suggestion is that <code>free</code> and <code>top</code> should not be used to assess memory in containers. Be careful when you assign resource limits to your Pod and select the right QoS. In the future, weâ€™ll create a more detailed StressChaos document.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="deeper-dive-into-kubernetes-memory-management"></a>Deeper dive into Kubernetes memory management<a class="hash-link" href="#deeper-dive-into-kubernetes-memory-management" title="Direct link to heading">#</a></h2><p>Kubernetes tries to evict Pods that use too much memory (but not more memory than their limits). Kubernetes gets your Pod memory usage from <code>/sys/fs/cgroup/memory/memory.usage_in_bytes</code> and subtracts it by the <code>total_inactive_file</code> line in <code>memory.stat</code>.</p><p>Keep in mind that Kuberenetes <strong>does not</strong> support swap. Even if you have a node with swap enabled, Kubernetes creates containers with <code>swappiness=0</code>, which means swap is eventually disabled. That is mainly for performance concerns.</p><p><code>memory.usage_in_bytes</code> equals <code>resident set</code> plus <code>cache</code>, and <code>total_inactive_file</code> is memory in cache that the OS can retrieve if the memory is running out. <code>memory.usage_in_bytes - total_inactive_file</code> is called <code>working_set</code>. You will get this <code>working_set</code> value by <code>kubectl top pod &lt;your pod&gt; --containers</code>. Kubernetes uses this value to decide whether or not to evict your Pods.</p><p>Kubernetes periodically inspects memory usage. If a container&#x27;s memory usage increases too quickly or the container cannot be evicted, the OOM killer is invoked. Kubernetes has its way of protecting its own process, so it always picks the container. When a container is killed, it may or may not be restarted, depending on your restart policy. If it is killed, when you execute <code>kubectl describe pod &lt;your pod&gt;</code> you will see it is restarted and the reason is <code>OOMKilled</code>.</p><p>Another thing worth mentioning is the kernel memory. Since <code>v1.9</code>, Kubernetesâ€™ kernel memory support is enabled by default. It is also a feature of cgroup memory subsystems. You can limit container kernel memory usage. Unfortunately, this causes a cgroup leak on kernel versions up to <code>v4.2</code>. You can either upgrade your kernel to <code>v4.3</code> or disable it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-we-implement-stresschaos"></a>How we implement StressChaos<a class="hash-link" href="#how-we-implement-stresschaos" title="Direct link to heading">#</a></h2><p>StressChaos is a simple way to test your container&#x27;s behavior when it is low on memory. StressChaos utilizes a powerful tool named <code>stress-ng</code> to allocate memory and continue writing to the allocated memory. Because containers have memory limits and container limits are bound to a cgroup, we must find a way to run <code>stress-ng</code> in a specific cgroup. Luckily, this part is easy. With enough privileges, we can assign any process to any cgroup by writing to files in <code>/sys/fs/cgroup/</code>.</p><p>If you are interested in Chaos Mesh and would like to help us improve it, you&#x27;re welcome to join our <a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer">Slack channel</a> (#project-chaos-mesh)! Or submit your pull requests or issues to our <a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/chaos-mesh">Chaos Mesh</a><a class="margin-horiz--sm" href="/blog/tags/chaos-engineering">Chaos Engineering</a><a class="margin-horiz--sm" href="/blog/tags/stress-chaos">StressChaos</a><a class="margin-horiz--sm" href="/blog/tags/stress-testing">Stress Testing</a></div><div class="col margin-top--sm"><a href="https://github.com/chaos-mesh/website/edit/master/blog/2021-07-01-how-to-efficiently-stress-test-pod-memory.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/securing-tenant-namespaces-using-restrict-authorization-feature"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Securing tenant namespaces using restrict authorization feature in Chaos MeshÂ®</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/chaos-mesh-remake-one-step-closer-towards-chaos-as-a-service"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Chaos Mesh Remake: One Step Closer toward Chaos as a Service Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#injecting-stress-into-a-target" class="table-of-contents__link">Injecting stress into a target</a></li><li><a href="#why-does-stresschaos-disappear" class="table-of-contents__link">Why does StressChaos disappear?</a></li><li><a href="#what-if-there-was-no-liveness-probe" class="table-of-contents__link">What if there was no liveness probe?</a></li><li><a href="#deeper-dive-into-kubernetes-memory-management" class="table-of-contents__link">Deeper dive into Kubernetes memory management</a></li><li><a href="#how-we-implement-stresschaos" class="table-of-contents__link">How we implement StressChaos</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/get_started/get_started_on_kind">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user_guides/installation">User Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/chaos_mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack (#project-chaos-mesh)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Others</div><ul class="footer__items"><li class="footer__item"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>Â© Chaos MeshÂ® Authors 2021 | Documentation Distributed under CC-BY-4.0 </strong>
        <br>
        <br>
        Â© 2021 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.a1e88c6b.js"></script>
<script src="/assets/js/main.aac3a0ad.js"></script>
</body>
</html>