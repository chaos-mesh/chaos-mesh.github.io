<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-90760217-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Chaos MeshÂ®" href="/opensearch.xml"><title data-react-helmet="true">Add Facilities to Chaos Daemon | Chaos MeshÂ®</title><meta data-react-helmet="true" property="og:image" content="https://chaos-mesh.org/img/logos/logo-mini.svg"><meta data-react-helmet="true" property="twitter:image" content="https://chaos-mesh.org/img/logos/logo-mini.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Chaos MeshÂ®"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Add Facilities to Chaos Daemon | Chaos MeshÂ®"><meta data-react-helmet="true" name="description" content="In Develop a new chaos, we have added a new chaos type named HelloWorldChaos, which will print hello world in chaos-controller-manager. To actually run the chaos, we need to configure some facilities for Chaos Daemon - so that controller-manager can select the specified Pods according to the chaos configuration and sends the chaos request to the chaos-daemon corresponding to these Pods. Once these are done, the chaos-daemon could run the chaos at last."><meta data-react-helmet="true" property="og:description" content="In Develop a new chaos, we have added a new chaos type named HelloWorldChaos, which will print hello world in chaos-controller-manager. To actually run the chaos, we need to configure some facilities for Chaos Daemon - so that controller-manager can select the specified Pods according to the chaos configuration and sends the chaos request to the chaos-daemon corresponding to these Pods. Once these are done, the chaos-daemon could run the chaos at last."><meta data-react-helmet="true" property="og:url" content="https://chaos-mesh.org/docs/next/development_guides/add_facilities_to_chaos_daemon"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://chaos-mesh.org/docs/next/development_guides/add_facilities_to_chaos_daemon"><link rel="stylesheet" href="/styles.d47af59d.css">
<link rel="preload" href="/styles.69cc2e15.js" as="script">
<link rel="preload" href="/runtime~main.190b07c3.js" as="script">
<link rel="preload" href="/main.6f67e77a.js" as="script">
<link rel="preload" href="/1.c52c86a9.js" as="script">
<link rel="preload" href="/2.c21c8e94.js" as="script">
<link rel="preload" href="/1be78505.bfd5b3a2.js" as="script">
<link rel="preload" href="/935f2afb.010285a3.js" as="script">
<link rel="preload" href="/125.e4d1dfce.js" as="script">
<link rel="preload" href="/2cd94d58.acd062f0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_3046 navbarHidden_1Uo_"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Chaos MeshÂ®</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/development_guides/add_facilities_to_chaos_daemon">Next</a></li><li><a class="dropdown__link" href="/docs/development_guides/add_facilities_to_chaos_daemon">1.0.3</a></li><li><a class="dropdown__link" href="/docs/0.9.1/">0.9.1</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/interactiveTutorial">Interactive Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Chaos MeshÂ®</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/next/development_guides/add_facilities_to_chaos_daemon">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development_guides/add_facilities_to_chaos_daemon">1.0.3</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.9.1/">0.9.1</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/interactiveTutorial">Interactive Tutorial</a></li><li class="menu__list-item"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh Logo" class="themedImage_2E_h themedImage--light_AouX"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh Logo" class="themedImage_2E_h themedImage--dark_1YPN"><strong>Chaos MeshÂ®</strong></a><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/">What is Chaos Mesh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/overview/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/overview/architecture">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/concepts/chaos_engineering">Chaos Engineering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/concepts/blast_radius">Blast Radius</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/get_started/get_started_on_kind">Get started on kind</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/get_started/get_started_on_minikube">Get started on Minikube</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/user_guides/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/user_guides/experiment_scope">Define the Scope of Chaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/user_guides/run_chaos_experiment">Run Chaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/user_guides/dashboard">Dashboard</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Chaos Experiments</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/podchaos_experiment">PodChaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/networkchaos_experiment">NetworkChaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/stresschaos_experiment">StressChaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/timechaos_experiment">TimeChaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/iochaos_experiment">IOChaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/kernelchaos_experiment">KernelChaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/chaos_experiments/dnschaos_experiment">DNSChaos Experiment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/use_cases/multi_data_centers">Network latency simulation across multiple data centers</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Development Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/development_guides/development_overview">Development Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/development_guides/set_up_the_development_environment">Set up the development environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/development_guides/develop_a_new_chaos">Develop a New Chaos</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/next/development_guides/add_facilities_to_chaos_daemon">Add Facilities to Chaos Daemon</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/next/faqs">FAQs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Releases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/releases/v1.0.0">v1.0.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/releases/v0.9.0">v0.9.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/releases/v0.8.0">v0.8.0</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Chaos MeshÂ® <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/development_guides/add_facilities_to_chaos_daemon">latest version</a></strong> (1.0.3).</div></div><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_1Lrw">Add Facilities to Chaos Daemon</h1></header><div class="markdown"><p>In <a href="/docs/next/development_guides/develop_a_new_chaos">Develop a new chaos</a>, we have added a new chaos type named <code>HelloWorldChaos</code>, which will print <code>hello world</code> in <code>chaos-controller-manager</code>. To actually run the chaos, we need to configure some facilities for Chaos Daemon - so that <code>controller-manager</code> can select the specified Pods according to the chaos configuration and sends the chaos request to the <code>chaos-daemon</code> corresponding to these Pods. Once these are done, the <code>chaos-daemon</code> could run the chaos at last.</p><p>This guide covers the following steps:</p><ul><li><a href="#add-selector-for-helloworldChaos">Add selector for HelloWorldChaos</a></li><li><a href="#implement-grpc-interface-for-chaos-request">Implement the gRPC interface</a></li><li><a href="#verify-your-chaos">Verify your chaos</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="add-selector-for-helloworldchaos"></a>Add selector for HelloWorldChaos<a class="hash-link" href="#add-selector-for-helloworldchaos" title="Direct link to heading">#</a></h2><p>In Chaos Mesh, we have defined the <code>spec.selector</code> field to specify the scope of the chaos by namespace, labels, annotation, etc. You can refer to <a href="/docs/next/user_guides/experiment_scope">Define the Scope of Chaos Experiment</a> for more information. To specify the Pods for <code>HelloWorld</code> chaos:</p><ol><li><p>Add the <code>Spec</code> field in <code>HelloWorldChaos</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-golang codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// HelloWorldChaos is the Schema for the helloworldchaos API</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">type HelloWorldChaos struct {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    metav1.TypeMeta   `json:&quot;,inline&quot;`</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    metav1.ObjectMeta `json:&quot;metadata,omitempty&quot;`</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // Spec defines the behavior of a pod chaos experiment</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    Spec HelloWorldSpec `json:&quot;spec&quot;`</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">type HelloWorldSpec struct {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    Selector SelectorSpec `json:&quot;selector&quot;`</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// GetSelector is a getter for Selector (for implementing SelectSpec)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func (in *HelloWorldSpec) GetSelector() SelectorSpec {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return in.Selector</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li><li><p>Generate boilerplate functions for the <code>spec</code> field. This is required to integrate the resource in Chaos Mesh.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">make</span><span class="token plain"> generate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="implement-the-grpc-interface"></a>Implement the gRPC interface<a class="hash-link" href="#implement-the-grpc-interface" title="Direct link to heading">#</a></h2><p>In order for <code>chaos-daemon</code> to accept requests from <code>chaos-controller-manager</code>, a new gRPC interface is required for <code>chaos-controller-manager</code> and <code>chaos-daemon</code>. Take the steps below to add the gRPC interface:</p><ol><li><p>Add the RPC in <a href="https://github.com/chaos-mesh/chaos-mesh/blob/master/pkg/chaosdaemon/pb/chaosdaemon.proto" target="_blank" rel="noopener noreferrer">chaosdaemon.proto</a>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-proto codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">service chaosDaemon {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    rpc ExecHelloWorldChaos(ExecHelloWorldRequest) returns (google.protobuf.Empty) {}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">message ExecHelloWorldRequest {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    string container_id = 1;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>You will need to update golang code generated by this proto file:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">make</span><span class="token plain"> proto</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li><li><p>Implement the gRPC service in <code>chaos-daemon</code>.</p><p>Add a new file named <code>helloworld_server.go</code> under <a href="https://github.com/chaos-mesh/chaos-mesh/tree/master/pkg/chaosdaemon" target="_blank" rel="noopener noreferrer">chaosdaemon</a>, with the content as below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-golang codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">package chaosdaemon</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">import (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;context&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;fmt&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;github.com/golang/protobuf/ptypes/empty&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;github.com/chaos-mesh/chaos-mesh/pkg/bpm&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    pb &quot;github.com/chaos-mesh/chaos-mesh/pkg/chaosdaemon/pb&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func (s *daemonServer) ExecHelloWorldChaos(ctx context.Context, req *pb.ExecHelloWorldRequest) (*empty.Empty, error) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    log.Info(&quot;ExecHelloWorldChaos&quot;, &quot;request&quot;, req)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    pid, err := s.crClient.GetPidFromContainerID(ctx, req.ContainerId)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if err != nil {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return nil, err</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    cmd := bpm.DefaultProcessBuilder(&quot;sh&quot;, &quot;-c&quot;, fmt.Sprintf(&quot;echo &#x27;hello&#x27; `hostname`&quot;)).</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        SetNS(pid, bpm.UtsNS).</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        SetContext(ctx).</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        Build()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    out, err := cmd.Output()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if err != nil {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return nil, err</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if len(out) != 0 {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        log.Info(&quot;cmd output&quot;, &quot;output&quot;, string(out))</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return &amp;empty.Empty{}, nil</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>After <code>chaos-daemon</code> receives the <code>ExecHelloWorldChaos</code> request, <code>chaos-daemon</code> will print <code>hello</code> to this container&#x27;s hostname.</p></li><li><p>Send gRPC requests in reconcile.</p><p>When a CRD object is updated (for example: create or delete), we need to compare the state specified in the object against the actual state, and then perform operations to make the actual cluster state reflect the state specified. This process is called <code>reconcile</code>.</p><p>For <code>HelloworldChaos</code>, <code>chaos-controller-manager</code> needs to send chaos request to <code>chaos-daemon</code> in <code>reconcile</code>. To do this, we need to update the file <code>controllers/helloworldchaos/types.go</code> created in <a href="/docs/next/development_guides/develop_a_new_chaos">Develop a New Chaos</a> with the content as below:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-golang codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">package helloworldchaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">import (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;context&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;errors&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;fmt&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;k8s.io/apimachinery/pkg/runtime&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   ctrl &quot;sigs.k8s.io/controller-runtime&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;github.com/chaos-mesh/chaos-mesh/api/v1alpha1&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;github.com/chaos-mesh/chaos-mesh/controllers/common&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   pb &quot;github.com/chaos-mesh/chaos-mesh/pkg/chaosdaemon/pb&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;github.com/chaos-mesh/chaos-mesh/pkg/router&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   ctx &quot;github.com/chaos-mesh/chaos-mesh/pkg/router/context&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   end &quot;github.com/chaos-mesh/chaos-mesh/pkg/router/endpoint&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   &quot;github.com/chaos-mesh/chaos-mesh/pkg/utils&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// endpoint is dns-chaos reconciler</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">type endpoint struct {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   ctx.Context</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Apply applies helloworld chaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func (r *endpoint) Apply(ctx context.Context, req ctrl.Request, chaos v1alpha1.InnerObject) error {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    r.Log.Info(&quot;Apply helloworld chaos&quot;)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    helloworldchaos, ok := chaos.(*v1alpha1.HelloWorldChaos)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if !ok {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return errors.New(&quot;chaos is not helloworldchaos&quot;)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    pods, err := utils.SelectPods(ctx, r.Client, r.Reader, helloworldchaos.Spec.GetSelector())</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if err != nil {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return err</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    for _, pod := range pods {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        daemonClient, err := utils.NewChaosDaemonClient(ctx, r.Client, &amp;pod, common.ControllerCfg.ChaosDaemonPort)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        if err != nil {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            r.Log.Error(err, &quot;get chaos daemon client&quot;)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            return err</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        defer daemonClient.Close()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        if len(pod.Status.ContainerStatuses) == 0 {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            return fmt.Errorf(&quot;%s %s can&#x27;t get the state of container&quot;, pod.Namespace, pod.Name)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        containerID := pod.Status.ContainerStatuses[0].ContainerID</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        _, err = daemonClient.ExecHelloWorldChaos(ctx, &amp;pb.ExecHelloWorldRequest{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            ContainerId: containerID,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        })</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        if err != nil {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            return err</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return nil</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Recover means the reconciler recovers the chaos action</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func (r *endpoint) Recover(ctx context.Context, req ctrl.Request, chaos v1alpha1.InnerObject) error {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return nil</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Object would return the instance of chaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func (r *endpoint) Object() v1alpha1.InnerObject {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return &amp;v1alpha1.HelloWorldChaos{}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">func init() {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    router.Register(&quot;helloworldchaos&quot;, &amp;v1alpha1.HelloWorldChaos{}, func(obj runtime.Object) bool {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return true</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }, func(ctx ctx.Context) end.Endpoint {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return &amp;endpoint{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            Context: ctx,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    })</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><blockquote><p><strong>Notes:</strong></p><p>In our case here, the <code>Recover</code> function does nothing because <code>HelloWorldChaos</code> only prints some log and doesn&#x27;t change anything. You may need to implement the <code>Recover</code> function in your development.</p></blockquote></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="verify-your-chaos"></a>Verify your chaos<a class="hash-link" href="#verify-your-chaos" title="Direct link to heading">#</a></h2><p>Now you are all set. It&#x27;s time to verify the chaos type you just created. Take the steps below:</p><ol><li><p>Make the Docker image. Refer to <a href="/docs/next/development_guides/develop_a_new_chaos#make-the-docker-image">Make the Docker image</a>.</p></li><li><p>Upgrade Chaos Mesh. Since we have already installed Chaos Mesh in <a href="/docs/next/development_guides/develop_a_new_chaos#run-chaos">Develop a New Chaos</a>, we only need to restart it with the latest image:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl rollout restart deployment chaos-controller-manager -n chaos-testing</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl rollout restart daemonset chaos-daemon -n chaos-testing</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li><li><p>Deploy the Pods for test:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/chaos-mesh/apps/master/ping/busybox-statefulset.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>This command deploys two Pods in the <code>busybox</code> namespace.</p></li><li><p>Create the chaos YAML file:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-yaml codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mesh.org/v1alpha1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> HelloWorldChaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> busybox</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">helloworld</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">chaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> busybox</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li><li><p>Apply the chaos:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f /path/to/helloworld.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li><li><p>Verify your chaos. There are different logs to check to see whether your chaos works as expected:</p><ul><li><p>Check the log of <code>chaos-controller-manager</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl logs chaos-controller-manager-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">pod-post-fix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> -n chaos-testing</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>The log is as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-log codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.018Z        INFO    controllers.HelloWorldChaos     Reconciling helloworld chaos    {&quot;reconciler&quot;: &quot;helloworldchaos&quot;}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.018Z        INFO    controllers.HelloWorldChaos     Apply helloworld chaos  {&quot;reconciler&quot;: &quot;helloworldchaos&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></li><li><p>Check the log of <code>chaos-daemon</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-bash codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl logs chaos-daemon-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">pod-post-fix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> -n chaos-testing</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>The log is as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><div tabindex="0" class="prism-code language-log codeBlock_1wn8 thin-scrollbar"><div class="codeBlockLines_3HrO" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.036Z        INFO    chaos-daemon-server     exec hello world chaos  {&quot;request&quot;: &quot;container_id:\&quot;docker://8f2918ee05ed587f7074a923cede3bbe5886277faca95d989e513f7b7e831da5\&quot; &quot;}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.044Z        INFO    chaos-daemon-server     build command   {&quot;command&quot;: &quot;nsenter -u/proc/45664/ns/uts -- sh -c echo &#x27;hello&#x27; `hostname`&quot;}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.058Z        INFO    chaos-daemon-server     cmd output      {&quot;output&quot;: &quot;hello busybox-1\n&quot;}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.064Z        INFO    chaos-daemon-server     exec hello world chaos  {&quot;request&quot;: &quot;container_id:\&quot;docker://53e982ba5593fa87648edba665ba0f7da3f58df67f8b70a1354ca00447c00524\&quot; &quot;}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.066Z        INFO    chaos-daemon-server     build command   {&quot;command&quot;: &quot;nsenter -u/proc/45620/ns/uts -- sh -c echo &#x27;hello&#x27; `hostname`&quot;}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">2020-09-09T09:13:36.070Z        INFO    chaos-daemon-server     cmd output      {&quot;output&quot;: &quot;hello busybox-0\n&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>We can see the <code>chaos-daemon</code> prints <code>hello</code> to these two Pods.</p></li></ul></li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/chaos-mesh/website/edit/master/docs/development_guides/add_chaos_daemon.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/development_guides/develop_a_new_chaos"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Develop a New Chaos</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/faqs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQs Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#add-selector-for-helloworldchaos" class="table-of-contents__link">Add selector for HelloWorldChaos</a></li><li><a href="#implement-the-grpc-interface" class="table-of-contents__link">Implement the gRPC interface</a></li><li><a href="#verify-your-chaos" class="table-of-contents__link">Verify your chaos</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a href="https://chaos-mesh.org/docs/get_started/get_started_on_kind" target="_blank" rel="noopener noreferrer" class="footer__link-item">Getting Started</a></li><li class="footer__item"><a href="https://chaos-mesh.org/docs/user_guides/installation" target="_blank" rel="noopener noreferrer" class="footer__link-item">User Guides</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/chaos_mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://join.slack.com/t/cloud-native/shared_invite/zt-fyy3b8up-qHeDNVqbz1j8HDY6g1cY4w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack (#project-chaos-mesh)</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Others</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify"></a></li></ul></div></div><div class="text--center"><div>
        <br>
        <strong>Â© Chaos MeshÂ® Authors 2020 | Documentation Distributed under CC-BY-4.0 </strong>
        <br>
        <br>
        Â© 2020 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.
      </div></div></div></footer></div>
<script src="/styles.69cc2e15.js"></script>
<script src="/runtime~main.190b07c3.js"></script>
<script src="/main.6f67e77a.js"></script>
<script src="/1.c52c86a9.js"></script>
<script src="/2.c21c8e94.js"></script>
<script src="/1be78505.bfd5b3a2.js"></script>
<script src="/935f2afb.010285a3.js"></script>
<script src="/125.e4d1dfce.js"></script>
<script src="/2cd94d58.acd062f0.js"></script>
</body>
</html>