<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chaos MeshÂ® Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chaos MeshÂ® Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-90760217-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Chaos MeshÂ®" href="/opensearch.xml"><title data-react-helmet="true">Run a Chaos Experiment | Chaos MeshÂ®</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://chaos-mesh.org/docs/next/run-a-chaos-experiment"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Run a Chaos Experiment | Chaos MeshÂ®"><meta data-react-helmet="true" name="description" content="This document describes how to create, run, view, pause, update, and delete Chaos experiments in Chaos Mesh."><meta data-react-helmet="true" property="og:description" content="This document describes how to create, run, view, pause, update, and delete Chaos experiments in Chaos Mesh."><meta data-react-helmet="true" property="og:image" content="https://chaos-mesh.org/img/logos/logo-mini.svg"><meta data-react-helmet="true" name="twitter:image" content="https://chaos-mesh.org/img/logos/logo-mini.svg"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chaos-mesh.org/docs/next/run-a-chaos-experiment"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/docs/next/run-a-chaos-experiment" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/docs/next/run-a-chaos-experiment" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.5b15a2c7.css">
<link rel="preload" href="/assets/js/runtime~main.9e95a934.js" as="script">
<link rel="preload" href="/assets/js/main.cbcb6e19.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Chaos MeshÂ®</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/run-a-chaos-experiment">Next</a></li><li><a class="dropdown__link" href="/docs/run-a-chaos-experiment">2.0.0</a></li><li><a class="dropdown__link" href="/docs/1.2.3/">1.2.3</a></li><li><a class="dropdown__link" href="/docs/1.1.4/">1.1.4</a></li><li><a class="dropdown__link" href="/docs/1.0.3/">1.0.3</a></li><li><a class="dropdown__link" href="/docs/0.9.1/">0.9.1</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/interactive-tutorial">Interactive Tutorial</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://chaos-mesh.org/website-zh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>ä¸­æ–‡<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh Logo" class="themedImage_1VuW themedImage--dark_hz6m"><b>Chaos MeshÂ®</b></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About Chaos Mesh</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Installation and Deployment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/production-installation-using-helm">Install Chaos Mesh using Helm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/offline-installation">Install Chaos Mesh Offline</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Manage Roles</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Run a Single Chaos Experiment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/define-chaos-experiment-scope">Define the Scope of Chaos Experiments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/define-scheduling-rules">Define Scheduling Rules</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/next/run-a-chaos-experiment">Run a Chaos Experiment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/inspect-chaos-experiments">Inspect Results of Chaos Experiments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/clean-up-chaos-experiments">Clean up Chaos Experiments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0"> Orchestrate Multiple Chaos Experiments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Types of Chaos Experiments</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools Integration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development Guides</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQs and Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Chaos MeshÂ® <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/run-a-chaos-experiment">latest version</a></b> (2.0.0).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: Next</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Run a Chaos Experiment</h1></header><p>This document describes how to create, run, view, pause, update, and delete Chaos experiments in Chaos Mesh.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="create-chaos-experiments"></a>Create Chaos experiments<a class="hash-link" href="#create-chaos-experiments" title="Direct link to heading">#</a></h2><p>You can create the following types of Chaos experiments in Chaos Mesh:</p><ul><li>One-time Chaos experiments: The smallest instance of Chaos experiments. Once a one-time experiment is created, Chaos Mesh immediately injects faults into the target test machine according to the experiment configurations. If the <code>duration</code> parameter is configured, injected faults will be restored automatically after a period of time specified by <code>duration</code>. When the Chaos experiment is paused or deleted, injected faults will be restored immediately.</li><li>Scheduled or cyclic Chaos experiments: Chaos experiments that can be run at a regular interval or cyclically. You need to define the scheduling rules for the experiment when creating this type of Chaos experiment.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="one-time-chaos-experiments"></a>One-time Chaos experiments<a class="hash-link" href="#one-time-chaos-experiments" title="Direct link to heading">#</a></h3><p>To create a one-time Chaos experiment, you can use one of the following methods:</p><ul><li>Use Chaos Dashboard to create a new Chaos experiment, then click <strong>Submit</strong> to run the experiment. For more details, refer to the documentation of each specific Chaos experiment type.</li><li>Use a YAML file to define the Chaos experiment, then create and run the experiment using <code>kubectl</code>. If you want to create and run a Chaos experiment in this way, take the following steps:</li></ul><ol><li><p>Create a new YAML file to define a Chaos experiment. Add configuration parameters in the file based on the type of Chaos experiment you want to create.</p><p>Take a NetworkChaos experiment as an example. Save the following YAML text as <code>network-delay.yaml</code>.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mesh.org/v1alpha1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> NetworkChaos</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> network</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">delay</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> delay </span><span class="token comment" style="color:rgb(98, 114, 164)"># the specific chaos action to inject</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> one </span><span class="token comment" style="color:rgb(98, 114, 164)"># the mode to run chaos action; supported modes are one/all/fixed/fixed-percent/random-max-percent</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># pods where to inject chaos actions</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> default</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">labelSelectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">&#x27;app&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;web-show&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)"># the label of the pod for chaos injection</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">latency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;10ms&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">duration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;12s&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>The above YAML example defines a network latency fault lasting for <code>12 seconds</code>, targeting applications with the <code>&quot;app&quot;: &quot;web-show&quot;</code> tag under the <code>default</code> namespace. For more configuration information about the NetworkChaos experiment, refer to <a href="/docs/next/simulate-network-chaos-on-kubernetes">Simulate network chaos</a>.</p></li><li><p>Execute the following command to create and run this Chaos experiment.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f network-delay.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div></li><li><p>To view the running status of the Chaos experiment after it begins, use the following <code>kubectl describe</code> command to check the <code>status</code> or <code>event</code> of this experiment object.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl describe networkchaos network-delay</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>For detailed steps to check the result of the Chaos experiment, refer to <a href="/docs/next/inspect-chaos-experiments">Inspect Chaos experiments</a>.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="scheduled-or-cyclic-chaos-experiments"></a>Scheduled or cyclic Chaos experiments<a class="hash-link" href="#scheduled-or-cyclic-chaos-experiments" title="Direct link to heading">#</a></h3><p>Chaos Mesh offers the <code>Schedule</code> object to create scheduled Chaos experiments and cyclic Chaos experiments.</p><p>To create this type of Chaos experiments, take the following steps:</p><ol><li><p>Create a new YAML file to define a Chaos experiment. You need to configure the <code>Schedule</code> parameter in the YAML file to define specific schedule rules for the experiment, and then configure other parameters according to the type of Chaos experiments you want to create.</p><p>Take a scheduled NetworkChaos experiment as an example. Save the following YAML text as <code>schedule-delay-example.yaml</code>.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mesh.org/v1alpha1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Schedule</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> schedule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">example</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">schedule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;5 * * * *&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">historyLimit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">concurrencyPolicy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Allow&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;NetworkChaos&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">networkChaos</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> delay</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">mode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> one</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">namespaces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> default</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">labelSelectors</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">&#x27;app&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;web-show&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">latency</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;10ms&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">duration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;12s&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>The above YAML example defines a network latency fault that can be automatically triggered at the fifth minute of each hour.For detailed introduction of scheduling rules, refer to <a href="/docs/next/define-scheduling-rules">Define scheduling rules</a>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If you do not set the <code>duration</code> parameter, the fault behavior keeps taking effect until you pause or delete the Chaos experiment.</p></div></div></li><li><p>Execute the following command to create and run this Chaos experiment.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f schedule-delay-example.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div></li><li><p>To view the running status of the Chaos experiment after it begins, use the following <code>kubectl describe</code> command to check the <code>status</code> or <code>event</code> of this experiment object.</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl describe networkchaos schedule-delay-example</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>For detailed steps to check the result of the Chaos experiment, refer to <a href="/docs/next/inspect-chaos-experiments">Inspect Chaos experiments</a>.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pause-chaos-experiments"></a>Pause Chaos experiments<a class="hash-link" href="#pause-chaos-experiments" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="pause-or-resume-chaos-experiments-using-commands"></a>Pause or resume Chaos experiments using commands<a class="hash-link" href="#pause-or-resume-chaos-experiments-using-commands" title="Direct link to heading">#</a></h3><p>For a running Chaos experiment, you can pause the experiment by setting a pause annotation to it using commands.</p><p>For example, you can use the following command to pause a Chaos experiment named <code>network-delay</code> in the default namespace:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl annoate networkchaos network-delay experiment.chaos-mesh.org/pause=true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>After this command is executed, Chaos Mesh restores the injected faults immediately. If you want to resume this Chaos experiment from the pause state to the normal running state, use the following command:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl annotate networkchaos network-delay experiment.chaos-mesh.org/pause-</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="pause-or-resume-chaos-experiments-using-chaos-dashboard"></a>Pause or resume Chaos experiments using Chaos Dashboard<a class="hash-link" href="#pause-or-resume-chaos-experiments-using-chaos-dashboard" title="Direct link to heading">#</a></h3><p>If you want to pause or resume a Chaos experiment using Chaos Dashboard, find the Chaos experiment you want on the Dashboard and click the <strong>Pause</strong> button or the <strong>Start</strong> button.</p><p><img alt="Pause experiment" src="/assets/images/pause-14bca7ea6399b3947f9f30df8fff72c6.png"></p><p><img alt="Restart experiment" src="/assets/images/restart-144345c6ff92c96f05b9b6149b64f24c.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="update-chaos-experiments"></a>Update Chaos experiments<a class="hash-link" href="#update-chaos-experiments" title="Direct link to heading">#</a></h2><p>If you need to update a Chaos experiment after it is created, you can edit the configuration parameters of the Chaos experiment object.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><ul><li>For a one-time Chaos experiment that is already running properly, Chaos Mesh currently supports updating only the duration of the fault behavior, that is, the <code>duration</code> parameter of the experiment. You cannot change other configuration parameters of the fault.</li><li>For a scheduled or cyclic experiment, updating the <code>duration</code> parameter will take effect after the current fault injection is finished.</li></ul></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="update-chaos-experiments-using-commands"></a>Update Chaos experiments using commands<a class="hash-link" href="#update-chaos-experiments-using-commands" title="Direct link to heading">#</a></h3><p>If you manage Chaos experiments using YAML files, you can use the following commands to update the Chaos experiments:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">vim network-delay.yaml # modify network-delay.yaml to what you want</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f network-delay.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>You can also use the following <code>kubectl patch</code> command to update a specific configuration parameter:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl patch networchaos network-delay -p &#x27;{&quot;spec&quot;:{&quot;duration&quot;:&quot;30s&quot;}}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>After the above command is executed, the duration of the Chaos experiment <code>network-delay</code> will be updated to 30s.</p><p>For more operations to update experiment objects via the <code>kubectl</code> command, see the <a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" rel="noopener noreferrer">kubectl documentation</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="update-chaos-experiments-using-chaos-dashboard"></a>Update Chaos experiments using Chaos Dashboard<a class="hash-link" href="#update-chaos-experiments-using-chaos-dashboard" title="Direct link to heading">#</a></h3><p>If you want to update a Chaos experiment with the Dashboard, you can click the corresponding <strong>Update</strong> button of the experiment and update the experiment by editing the corresponding object.</p><p><img alt="Edit experiment" src="/assets/images/configuration-58ae6e66b4d4617c87ca7b5d0657c203.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="delete-chaos-experiments"></a>Delete Chaos experiments<a class="hash-link" href="#delete-chaos-experiments" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="delete-chaos-experiments-using-commands"></a>Delete Chaos experiments using commands<a class="hash-link" href="#delete-chaos-experiments-using-commands" title="Direct link to heading">#</a></h3><p>After a Chaos experiment finishes, you can delete the experiment using the following <code>kubectl delete</code> command. Once you delete the Chaos experiment, the injected fault will be restored immediately:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete -f network-delay.yaml</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"># or delete the chaos object directly</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete networkchaos network-delay</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><p>If the delete operation is blocked, this means that some fault behaviors of the target object cannot be restored. You can check the Chaos Mesh logs for troubleshooting or directly create a <a href="https://github.com/pingcap/chaos-mesh/issues" target="_blank" rel="noopener noreferrer">GitHub issue</a> to report this problem to the Chaos Mesh team. Besides, you can forcibly delete the Chaos experiment with the following command:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W sh"><div tabindex="0" class="prism-code language-sh codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl annotate networkchaos web-show-network-delay chaos-mesh.chaos-mesh.org/cleanFinalizer=forced</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="delete-chaos-experiments-using-chaos-dashboard"></a>Delete Chaos experiments using Chaos Dashboard<a class="hash-link" href="#delete-chaos-experiments-using-chaos-dashboard" title="Direct link to heading">#</a></h3><p>If you want to delete a Chaos experiment on Chaos Dashboard and archive it to the experiment history, you can click the corresponding <strong>Archive</strong> button of the Chaos experiment.</p><p><img alt="Archive experiment" src="/assets/images/archive-33c067edcce30d32c7d764885935cf8a.png"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/chaos-mesh/website/edit/master/docs/run-a-chaos-experiment.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/define-scheduling-rules"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Define Scheduling Rules</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/inspect-chaos-experiments"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inspect Results of Chaos Experiments Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-chaos-experiments" class="table-of-contents__link">Create Chaos experiments</a><ul><li><a href="#one-time-chaos-experiments" class="table-of-contents__link">One-time Chaos experiments</a></li><li><a href="#scheduled-or-cyclic-chaos-experiments" class="table-of-contents__link">Scheduled or cyclic Chaos experiments</a></li></ul></li><li><a href="#pause-chaos-experiments" class="table-of-contents__link">Pause Chaos experiments</a><ul><li><a href="#pause-or-resume-chaos-experiments-using-commands" class="table-of-contents__link">Pause or resume Chaos experiments using commands</a></li><li><a href="#pause-or-resume-chaos-experiments-using-chaos-dashboard" class="table-of-contents__link">Pause or resume Chaos experiments using Chaos Dashboard</a></li></ul></li><li><a href="#update-chaos-experiments" class="table-of-contents__link">Update Chaos experiments</a><ul><li><a href="#update-chaos-experiments-using-commands" class="table-of-contents__link">Update Chaos experiments using commands</a></li><li><a href="#update-chaos-experiments-using-chaos-dashboard" class="table-of-contents__link">Update Chaos experiments using Chaos Dashboard</a></li></ul></li><li><a href="#delete-chaos-experiments" class="table-of-contents__link">Delete Chaos experiments</a><ul><li><a href="#delete-chaos-experiments-using-commands" class="table-of-contents__link">Delete Chaos experiments using commands</a></li><li><a href="#delete-chaos-experiments-using-chaos-dashboard" class="table-of-contents__link">Delete Chaos experiments using Chaos Dashboard</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/get_started/get_started_on_kind">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user_guides/installation">User Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/chaos_mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack (#project-chaos-mesh)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Others</div><ul class="footer__items"><li class="footer__item"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>Â© Chaos MeshÂ® Authors 2021 | Documentation Distributed under CC-BY-4.0 </strong>
        <br>
        <br>
        Â© 2021 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.9e95a934.js"></script>
<script src="/assets/js/main.cbcb6e19.js"></script>
</body>
</html>