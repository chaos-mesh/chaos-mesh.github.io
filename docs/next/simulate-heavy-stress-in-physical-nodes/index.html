<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-simulate-heavy-stress-in-physical-nodes" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Simulate Stress Scenarios | Chaos Mesh</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://chaos-mesh.org/img/chaos-mesh-social-preview.png><meta data-rh=true name=twitter:image content=https://chaos-mesh.org/img/chaos-mesh-social-preview.png><meta data-rh=true property=og:url content=https://chaos-mesh.org/docs/next/simulate-heavy-stress-in-physical-nodes/><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=zh><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Simulate Stress Scenarios | Chaos Mesh"><meta data-rh=true name=description content="This document describes how to use Chaosd to simulate stress scenarios. This feature generates CPU or memory stress on the host using stress-ng. You can create stress experiments either in command-line or service mode."><meta data-rh=true property=og:description content="This document describes how to use Chaosd to simulate stress scenarios. This feature generates CPU or memory stress on the host using stress-ng. You can create stress experiments either in command-line or service mode."><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://chaos-mesh.org/docs/next/simulate-heavy-stress-in-physical-nodes/><link data-rh=true rel=alternate href=https://chaos-mesh.org/docs/next/simulate-heavy-stress-in-physical-nodes/ hreflang=en><link data-rh=true rel=alternate href=https://chaos-mesh.org/zh/docs/next/simulate-heavy-stress-in-physical-nodes/ hreflang=zh><link data-rh=true rel=alternate href=https://chaos-mesh.org/docs/next/simulate-heavy-stress-in-physical-nodes/ hreflang=x-default><link data-rh=true rel=preconnect href=https://3BY0S3HQX6-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://chaos-mesh.org/docs/next/simulate-heavy-stress-in-physical-nodes","name":"Simulate Stress Scenarios","position":1}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Chaos Mesh RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Chaos Mesh Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-T31S4LR9LL"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-T31S4LR9LL",{})</script><link rel=search type=application/opensearchdescription+xml title="Chaos Mesh" href=/opensearch.xml><link rel=preconnect href=https://www.clarity.ms><script>!function(t,e,n,c,r,s,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(s=e.createElement(c)).async=1,s.src="https://www.clarity.ms/tag/"+r,(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(s,a)}(window,document,"clarity","script","lggqck9srz")</script><link rel=stylesheet href=/assets/css/styles.74496d28.css><script src=/assets/js/runtime~main.2d6fae23.js defer></script><script src=/assets/js/main.5045fee0.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logos/logo-mini.svg><link rel=preload as=image href=/img/logos/logo-mini-white.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_qZMK href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_zEWC"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logos/logo-mini.svg alt="Chaos Mesh" class="themedComponent_wRZa themedComponent--light_qrf2"><img src=/img/logos/logo-mini-white.svg alt="Chaos Mesh" class="themedComponent_wRZa themedComponent--dark_agp9"></div><b class="navbar__title text--truncate">Chaos Mesh</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/>Documentation</a><a class="navbar__item navbar__link" href=/blog/>Blog</a><a href=https://community.cncf.io/chaos-mesh-community/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Community Group<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_FcKt><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/next/simulate-heavy-stress-in-physical-nodes/>Next</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/next/simulate-heavy-stress-in-physical-nodes/>Next</a><li><a class=dropdown__link href=/docs/simulate-heavy-stress-in-physical-nodes/>2.7.2</a><li><a class=dropdown__link href=/docs/2.6.7/simulate-heavy-stress-in-physical-nodes/>2.6.7</a><li class=""><hr style="margin: .5em 0;"><li><a class=dropdown__link href=/versions/>All Versions</a><li><a class=dropdown__link href=/supported-releases/>Supported Releases</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_UGME><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/next/simulate-heavy-stress-in-physical-nodes/ target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/zh/docs/next/simulate-heavy-stress-in-physical-nodes/ target=_self rel="noopener noreferrer" class=dropdown__link lang=zh>简体中文</a></ul></div><a href=https://github.com/chaos-mesh/chaos-mesh target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label=GitHub></a><div class="toggle_n8Zd colorModeToggle_Zxmx"><button class="clean-btn toggleButton_sAR2 toggleButtonDisabled_CAX3" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_t2KV lightToggleIcon_c4o8"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_t2KV darkToggleIcon_i30t"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_t2KV systemToggleIcon_Fp9R"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_BoD9><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_BhfK"><div class=docsWrapper_VhfW><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_TBCG" type=button></button><div class=docRoot_hzvw><aside class="theme-doc-sidebar-container docSidebarContainer_I5PB"><div class=sidebarViewport_onUZ><div class="sidebar_dKml sidebarWithHideableNavbar_JZ8K"><a tabindex=-1 class=sidebarLogo_Q2OP href=/><img src=/img/logos/logo-mini.svg alt="Chaos Mesh" class="themedComponent_wRZa themedComponent--light_qrf2"><img src=/img/logos/logo-mini-white.svg alt="Chaos Mesh" class="themedComponent_wRZa themedComponent--dark_agp9"><b>Chaos Mesh</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_uYii"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/>About Chaos Mesh</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/next/quick-start/>Getting Started</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true tabindex=0 href=/docs/next/quick-start/>Installation and Deployment</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/quick-start/>Quick Start</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/production-installation-using-helm/>Install Chaos Mesh using Helm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/offline-installation/>Install Chaos Mesh Offline</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/expose-dashboard-with-ingress/>Expose Chaos Dashboard with Ingress</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/persistence-dashboard/>Persistence Chaos Dashboard</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/uninstallation/>Uninstall Chaos Mesh</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/supported-releases/>Supported Releases</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/manage-user-permissions/>Manage User Permissions</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/configure-enabled-namespace/>Configure namespace for Chaos experiments</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/remote-cluster-management/>Remote Cluster Management</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/next/define-chaos-experiment-scope/>Run a Single Chaos Experiment</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/next/create-chaos-mesh-workflow/>Orchestrate Multiple Chaos Experiments</a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/next/simulate-pod-chaos-on-kubernetes/>Types of Chaos Experiments</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/docs/next/simulate-pod-chaos-on-kubernetes/>Kubernetes</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/docs/next/chaosd-overview/>Physical Nodes</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/chaosd-overview/>Chaosd Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-physical-machine-chaos/>Simulate Faults on Physical Machines</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-process-chaos-in-physical-nodes/>Simulate Process Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-network-chaos-in-physical-nodes/>Simulate Network Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-host-console-in-physical-nodes/>Simulate Host Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/next/simulate-heavy-stress-in-physical-nodes/>Simulate Stress Scenarios</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-disk-pressure-in-physical-nodes/>Simulate Disk Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-jvm-application-chaos-in-physical-nodes/>Simulate JVM Application Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-time-chaos-on-physical-nodes/>Simulate Time Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-file-chaos-in-physical-nodes/>Simulate File Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/simulate-redis-chaos-on-physical-nodes/>Simulate Redis Faults</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/chaosd-search-recover/>Search and Recover Experiments of Chaosd</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/gcp-authentication/>Authentication</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/integrate-chaos-mesh-into-github-actions/>Tools Integration</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/developer-guide-overview/>Development Guides</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/faqs/>FAQs and Troubleshooting</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/release-cycle/>Release</a></div></ul></nav></div></div></aside><main class=docMainContainer_b4sq><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_NloO"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is unreleased documentation for <!-- -->Chaos Mesh<!-- --> <b>Next</b> version.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/simulate-heavy-stress-in-physical-nodes/>latest version</a></b> (<!-- -->2.7.2<!-- -->).</div></div><div class=docItemContainer_mMgO><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_H2bT" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_VxOJ><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Types of Chaos Experiments</span><li class=breadcrumbs__item><span class=breadcrumbs__link>Physical Nodes</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Simulate Stress Scenarios</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_oyHL theme-doc-toc-mobile tocMobile_Km9I"><button type=button class="clean-btn tocCollapsibleButton_ZQoj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Simulate Stress Scenarios</h1></header><p>This document describes how to use Chaosd to simulate stress scenarios. This feature generates CPU or memory stress on the host using <a href=https://wiki.ubuntu.com/Kernel/Reference/stress-ng target=_blank rel="noopener noreferrer">stress-ng</a>. You can create stress experiments either in command-line or service mode.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=create-stress-experiments-using-the-command-line-mode>Create stress experiments using the command-line mode<a href=#create-stress-experiments-using-the-command-line-mode class=hash-link aria-label="Direct link to Create stress experiments using the command-line mode" title="Direct link to Create stress experiments using the command-line mode">​</a></h2>
<p>This section describes how to create stress experiments using the command-line mode.</p>
<p>Before creating stress experiments, you can run the following command to view the stress experiment types supported by Chaosd:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd attack stress </span><span class="token parameter variable" style=color:#36acaa>--help</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">Stress attack related commands</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Usage:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  chaosd attack stress </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">command</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Available Commands:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  cpu         continuously stress CPU out</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  mem         continuously stress virtual memory out</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Flags:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -h, </span><span class="token parameter variable" style=color:#36acaa>--help</span><span class="token plain">   </span><span class="token builtin class-name">help</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> stress</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Global Flags:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      --log-level string   the log level of chaosd, the value can be </span><span class="token string" style=color:#e3116c>'debug'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'info'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'warn'</span><span class="token plain"> and </span><span class="token string" style=color:#e3116c>'error'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Use </span><span class="token string" style=color:#e3116c>"chaosd attack stress [command] --help"</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>more</span><span class="token plain"> information about a command.</span><br></span></code></pre></div></div>
<p>Currently, Chaosd supports creating CPU stress experiments and memory stress experiments.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=simulate-cpu-stress-using-the-command-line-mode>Simulate CPU stress using the command-line mode<a href=#simulate-cpu-stress-using-the-command-line-mode class=hash-link aria-label="Direct link to Simulate CPU stress using the command-line mode" title="Direct link to Simulate CPU stress using the command-line mode">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=command-for-simulating-cpu-stress>Command for simulating CPU stress<a href=#command-for-simulating-cpu-stress class=hash-link aria-label="Direct link to Command for simulating CPU stress" title="Direct link to Command for simulating CPU stress">​</a></h4>
<p>To view the configuration items supported by the CPU stress simulation, run the following command:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd attack stress cpu </span><span class="token parameter variable" style=color:#36acaa>--help</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">continuously stress CPU out</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Usage:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  chaosd attack stress cpu </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">options</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">flags</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Flags:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -h, </span><span class="token parameter variable" style=color:#36acaa>--help</span><span class="token plain">              </span><span class="token builtin class-name">help</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> cpu</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -l, </span><span class="token parameter variable" style=color:#36acaa>--load</span><span class="token plain"> int          Load specifies P percent loading per CPU worker. </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> is effectively a </span><span class="token function" style=color:#d73a49>sleep</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">no load</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> and </span><span class="token number" style=color:#36acaa>100</span><span class="token plain"> is full loading. </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">default </span><span class="token number" style=color:#36acaa>10</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -o, </span><span class="token parameter variable" style=color:#36acaa>--options</span><span class="token plain"> strings   extend stress-ng options.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -w, </span><span class="token parameter variable" style=color:#36acaa>--workers</span><span class="token plain"> int       Workers specifies N workers to apply the stressor. </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">default </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Global Flags:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      --log-level string   the log level of chaosd, the value can be </span><span class="token string" style=color:#e3116c>'debug'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'info'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'warn'</span><span class="token plain"> and </span><span class="token string" style=color:#e3116c>'error'</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=configuration-description-for-simulating-cpu-stress>Configuration description for simulating CPU stress<a href=#configuration-description-for-simulating-cpu-stress class=hash-link aria-label="Direct link to Configuration description for simulating CPU stress" title="Direct link to Configuration description for simulating CPU stress">​</a></h4>
<table><thead><tr><th style=text-align:left>Configuration item<th style=text-align:left>Abbreviation<th style=text-align:left>Description<th style=text-align:left>Type<th style=text-align:left>Value<tbody><tr><td style=text-align:left><code>load</code><td style=text-align:left>l<td style=text-align:left>Specifies the percentage of CPU load per CPU worker. <code>0</code> means no CPU utilization, and <code>100</code> means full CPU utilization.<td style=text-align:left>int<td style=text-align:left>Range: <code>0</code> to <code>100</code>; Default value: <code>10</code>.<tr><td style=text-align:left><code>workers</code><td style=text-align:left>w<td style=text-align:left>Specifies the number of workers used to create CPU stress.<td style=text-align:left>int<td style=text-align:left>Default value: 1.<tr><td style=text-align:left><code>options</code><td style=text-align:left>o<td style=text-align:left>The extended parameter of stress-ng, usually not configured.<td style=text-align:left>string<td style=text-align:left>Default value: "".</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=example-for-simulating-cpu-stress>Example for simulating CPU stress<a href=#example-for-simulating-cpu-stress class=hash-link aria-label="Direct link to Example for simulating CPU stress" title="Direct link to Example for simulating CPU stress">​</a></h4>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd attack stress cpu </span><span class="token parameter variable" style=color:#36acaa>--workers</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--load</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2021</span><span class="token plain">/05/12 03:38:33.698 +00:00</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">INFO</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">stress.go:66</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"stressors normalize"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">arguments</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>" --cpu 2 --cpu-load 10"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2021</span><span class="token plain">/05/12 03:38:33.702 +00:00</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">INFO</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">stress.go:82</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"Start stress-ng process successfully"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">command</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"/usr/bin/stress-ng --cpu 2 --cpu-load 10"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Pid</span><span class="token operator" style=color:#393A34>=</span><span class="token number" style=color:#36acaa>27483</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Attack stress cpu successfully, uid: 4f33b2d4-aee6-43ca-9c43-0f12867e5c9c</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=simulating-memory-stress-using-the-command-line-mode>Simulating memory stress using the command-line mode<a href=#simulating-memory-stress-using-the-command-line-mode class=hash-link aria-label="Direct link to Simulating memory stress using the command-line mode" title="Direct link to Simulating memory stress using the command-line mode">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=command-for-simulating-memory-stress>Command for simulating memory stress<a href=#command-for-simulating-memory-stress class=hash-link aria-label="Direct link to Command for simulating memory stress" title="Direct link to Command for simulating memory stress">​</a></h4>
<p>To view the configuration items supported by the memory stress simulation, run the following command:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd attack stress mem </span><span class="token parameter variable" style=color:#36acaa>--help</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">continuously stress virtual memory out</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Usage:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  chaosd attack stress mem </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">options</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">flags</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Flags:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -h, </span><span class="token parameter variable" style=color:#36acaa>--help</span><span class="token plain">              </span><span class="token builtin class-name">help</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> mem</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -o, </span><span class="token parameter variable" style=color:#36acaa>--options</span><span class="token plain"> strings   extend stress-ng options.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  -s, </span><span class="token parameter variable" style=color:#36acaa>--size</span><span class="token plain"> string       Size specifies N bytes consumed per vm worker, default is the total available memory. One can specify the size as % of total available memory or </span><span class="token keyword" style=color:#00009f>in</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>units</span><span class="token plain"> of B, KB/KiB, MB/MiB, GB/GiB, TB/TiB</span><span class="token punctuation" style=color:#393A34>..</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Global Flags:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      --log-level string   the log level of chaosd, the value can be </span><span class="token string" style=color:#e3116c>'debug'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'info'</span><span class="token plain">, </span><span class="token string" style=color:#e3116c>'warn'</span><span class="token plain"> and </span><span class="token string" style=color:#e3116c>'error'</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=configuration-description-for-simulating-memory-stress>Configuration description for simulating memory stress<a href=#configuration-description-for-simulating-memory-stress class=hash-link aria-label="Direct link to Configuration description for simulating memory stress" title="Direct link to Configuration description for simulating memory stress">​</a></h4>
<table><thead><tr><th style=text-align:left>Configuration item<th style=text-align:left>Abbreviation<th style=text-align:left>Description<th style=text-align:left>Type<th style=text-align:left>Value<tbody><tr><td style=text-align:left><code>size</code><td style=text-align:left>s<td style=text-align:left>Specifies the size of memory per VM worker.<td style=text-align:left>string<td style=text-align:left>The memory size in B, KB/KiB, MB/MiB, GB/GiB, TB/TiB. If the size is not set, all available memory is used by default.<tr><td style=text-align:left><code>options</code><td style=text-align:left>o<td style=text-align:left>The extended parameter of stress-ng, usually not configured.<td style=text-align:left>string<td style=text-align:left>Default value: "".</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=example-for-simulating-memory-stress>Example for simulating memory stress<a href=#example-for-simulating-memory-stress class=hash-link aria-label="Direct link to Example for simulating memory stress" title="Direct link to Example for simulating memory stress">​</a></h4>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd attack stress mem </span><span class="token parameter variable" style=color:#36acaa>--workers</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--size</span><span class="token plain"> 100M</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2021</span><span class="token plain">/05/12 03:37:19.643 +00:00</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">INFO</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">stress.go:66</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"stressors normalize"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">arguments</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>" --vm 2 --vm-keep --vm-bytes 100000000"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2021</span><span class="token plain">/05/12 03:37:19.654 +00:00</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">INFO</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">stress.go:82</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"Start stress-ng process successfully"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">command</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"/usr/bin/stress-ng --vm 2 --vm-keep --vm-bytes 100000000"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Pid</span><span class="token operator" style=color:#393A34>=</span><span class="token number" style=color:#36acaa>26799</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Attack stress mem successfully, uid: c2bff2f5-3aac-4ace-b7a6-322946ae6f13</span><br></span></code></pre></div></div>
<p>When running the experiment, you need to save the uid information of the experiment. When a stress simulation is not needed, you can use <code>recover</code> to terminate the uid-related experiment::</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd recover c2bff2f5-3aac-4ace-b7a6-322946ae6f13</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">Recover c2bff2f5-3aac-4ace-b7a6-322946ae6f13 successfully</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=create-stress-experiments-using-the-service-mode>Create stress experiments using the service mode<a href=#create-stress-experiments-using-the-service-mode class=hash-link aria-label="Direct link to Create stress experiments using the service mode" title="Direct link to Create stress experiments using the service mode">​</a></h2>
<p>To create experiments using the service mode, follow the instructions below:</p>
<ol>
<li>
<p>Run Chaosd in service mode:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token plain">chaosd server </span><span class="token parameter variable" style=color:#36acaa>--port</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>31767</span><br></span></code></pre></div></div>
</li>
<li>
<p>Send a <code>POST</code> HTTP request to the <code>/api/attack/{uid}</code> path of Chaosd service.</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-X</span><span class="token plain"> POST </span><span class="token number" style=color:#36acaa>172.16</span><span class="token plain">.112.130:31767/api/attack/jvm </span><span class="token parameter variable" style=color:#36acaa>-H</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Content-Type:application/json"</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-d</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{fault-configuration}'</span><br></span></code></pre></div></div>
<p>For the <code>fault-configuration</code> part in the above command, you need to configure it according to the fault types. For the corresponding parameters, refer to the parameters and examples of each fault type in the following sections.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_ZCj2 alert alert--secondary"><div class=admonitionHeading_jvXf><span class=admonitionIcon_FfEH><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent__Ade><p>When running an experiment, remember to save the UID information of the experiment. When you want to kill the experiment corresponding to the UID, you need to send a <code>DELETE</code> HTTP request to the <code>/api/attack/{uid}</code> path of Chaosd service.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=simulate-cpu-stress-using-the-service-mode>Simulate CPU stress using the service mode<a href=#simulate-cpu-stress-using-the-service-mode class=hash-link aria-label="Direct link to Simulate CPU stress using the service mode" title="Direct link to Simulate CPU stress using the service mode">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=parameters-for-simulating-cpu-stress>Parameters for simulating CPU stress<a href=#parameters-for-simulating-cpu-stress class=hash-link aria-label="Direct link to Parameters for simulating CPU stress" title="Direct link to Parameters for simulating CPU stress">​</a></h4>
<table><thead><tr><th style=text-align:left>Parameter<th style=text-align:left>Description<th style=text-align:left>Type<th style=text-align:left>Value<tbody><tr><td style=text-align:left><code>action</code><td style=text-align:left>Actions of the experiment<td style=text-align:left><td style=text-align:left>Set to "cpu"<tr><td style=text-align:left><code>load</code><td style=text-align:left>Specifies the percentage of CPU load per CPU worker. <code>0</code> means no CPU utilization, and <code>100</code> means full CPU utilization.<td style=text-align:left>int<td style=text-align:left>Range: <code>0</code> to <code>100</code>; Default value: <code>10</code><tr><td style=text-align:left><code>workers</code><td style=text-align:left>Specifies the number of workers used to create CPU stress<td style=text-align:left>int<td style=text-align:left>Default value: <code>1</code><tr><td style=text-align:left><code>options</code><td style=text-align:left>The extended parameter of stress-ng, usually not configured.<td style=text-align:left>string<td style=text-align:left>Default value: ""</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=example-for-simulating-cpu-stress-using-the-service-mode>Example for simulating CPU stress using the service mode<a href=#example-for-simulating-cpu-stress-using-the-service-mode class=hash-link aria-label="Direct link to Example for simulating CPU stress using the service mode" title="Direct link to Example for simulating CPU stress using the service mode">​</a></h4>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-X</span><span class="token plain"> POST </span><span class="token number" style=color:#36acaa>172.16</span><span class="token plain">.112.130:31767/api/attack/stress </span><span class="token parameter variable" style=color:#36acaa>-H</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Content-Type:application/json"</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-d</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{"load":10, "action":"cpu","workers":1}'</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"status"</span><span class="token plain">:200,</span><span class="token string" style=color:#e3116c>"message"</span><span class="token builtin class-name">:</span><span class="token string" style=color:#e3116c>"attack successfully"</span><span class="token plain">,</span><span class="token string" style=color:#e3116c>"uid"</span><span class="token builtin class-name">:</span><span class="token string" style=color:#e3116c>"c3c519bf-819a-4a7b-97fb-e3d0814481fa"</span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=simulate-memory-stress-using-the-service-mode>Simulate memory stress using the service mode<a href=#simulate-memory-stress-using-the-service-mode class=hash-link aria-label="Direct link to Simulate memory stress using the service mode" title="Direct link to Simulate memory stress using the service mode">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=parameters-for-simulating-memory-stress>Parameters for simulating memory stress<a href=#parameters-for-simulating-memory-stress class=hash-link aria-label="Direct link to Parameters for simulating memory stress" title="Direct link to Parameters for simulating memory stress">​</a></h4>
<table><thead><tr><th style=text-align:left>Parameter<th style=text-align:left>Description<th style=text-align:left>Type<th style=text-align:left>Value<tbody><tr><td style=text-align:left><code>action</code><td style=text-align:left>Actions of the experiment<td style=text-align:left><td style=text-align:left>Set to "mem"<tr><td style=text-align:left><code>size</code><td style=text-align:left>Specifies the size of memory per VM worker<td style=text-align:left>string<td style=text-align:left>the memory size in B, KB/KiB, MB/MiB, GB/GiB, TB/TiB. If the size is not set, all available memory is used by default.<tr><td style=text-align:left><code>options</code><td style=text-align:left>The extended parameter of stress-ng, usually not configured.<td style=text-align:left>string<td style=text-align:left>Default value: ""</table>
<h4 class="anchor anchorWithHideOnScrollNavbar_bRIG" id=example-for-simulating-memory-stress-using-the-service-mode>Example for simulating memory stress using the service mode<a href=#example-for-simulating-memory-stress-using-the-service-mode class=hash-link aria-label="Direct link to Example for simulating memory stress using the service mode" title="Direct link to Example for simulating memory stress using the service mode">​</a></h4>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-X</span><span class="token plain"> POST </span><span class="token number" style=color:#36acaa>172.16</span><span class="token plain">.112.130:31767/api/attack/stress </span><span class="token parameter variable" style=color:#36acaa>-H</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Content-Type:application/json"</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-d</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{"size":"100M", "action":"mem"}'</span><br></span></code></pre></div></div>
<p>The result is as follows:</p>
<div class="language-bash codeBlockContainer_ilre theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_XpOC><pre tabindex=0 class="prism-code language-bash codeBlock_w358 thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_mqJ5><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"status"</span><span class="token plain">:200,</span><span class="token string" style=color:#e3116c>"message"</span><span class="token builtin class-name">:</span><span class="token string" style=color:#e3116c>"attack successfully"</span><span class="token plain">,</span><span class="token string" style=color:#e3116c>"uid"</span><span class="token builtin class-name">:</span><span class="token string" style=color:#e3116c>"a551206c-960d-4ac5-9056-518e512d4d0d"</span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/chaos-mesh/website/edit/master/docs/simulate-heavy-stress-in-physical-nodes.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_V5s6 aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_Ankm"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/next/simulate-host-console-in-physical-nodes/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Simulate Host Faults</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/next/simulate-disk-pressure-in-physical-nodes/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Simulate Disk Faults</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_b6tg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#create-stress-experiments-using-the-command-line-mode class="table-of-contents__link toc-highlight">Create stress experiments using the command-line mode</a><ul><li><a href=#simulate-cpu-stress-using-the-command-line-mode class="table-of-contents__link toc-highlight">Simulate CPU stress using the command-line mode</a><li><a href=#simulating-memory-stress-using-the-command-line-mode class="table-of-contents__link toc-highlight">Simulating memory stress using the command-line mode</a></ul><li><a href=#create-stress-experiments-using-the-service-mode class="table-of-contents__link toc-highlight">Create stress experiments using the service mode</a><ul><li><a href=#simulate-cpu-stress-using-the-service-mode class="table-of-contents__link toc-highlight">Simulate CPU stress using the service mode</a><li><a href=#simulate-memory-stress-using-the-service-mode class="table-of-contents__link toc-highlight">Simulate memory stress using the service mode</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Documentation</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/quick-start/>Quick Start</a><li class=footer__item><a class=footer__link-item href=/docs/run-a-chaos-experiment/>Run a Chaos Experiment</a><li class=footer__item><a class=footer__link-item href=/docs/developer-guide-overview/>Developer Guide Overview</a><li class=footer__item><a class=footer__link-item href=/docs/faqs/>FAQs</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/blog/>Blog</a><li class=footer__item><a href=https://community.cncf.io/chaos-mesh-community/ target=_blank rel="noopener noreferrer" class=footer__link-item>CNCF Community Group<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_FcKt><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/chaos-mesh/chaos-mesh target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_FcKt><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://slack.cncf.io/ target=_blank rel="noopener noreferrer" class=footer__link-item>Slack (#project-chaos-mesh)<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_FcKt><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://twitter.com/chaos_mesh target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_FcKt><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Acknowledgements</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://storyset.com/technology target=_blank rel="noopener noreferrer" class=footer__link-item>Technology illustrations by Storyset<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_FcKt><use href=#theme-svg-external-link /></svg></a><li class=footer__item>
                <a href=https://www.netlify.com target=_blank rel="noopener noreferrer">
                  <img src=https://www.netlify.com/v3/img/components/netlify-color-bg.svg alt="Deploys by Netlify">
                </a>
              <li class=footer__item>
                <img referrerpolicy=no-referrer-when-downgrade src="https://static.scarf.sh/a.png?x-pxid=3103bfa4-2073-4b9a-bdac-f36f63d979a4">
              </ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>
        <p style="font-weight: 500;">Copyright © Chaos Mesh Authors 2025 | Documentation Distributed under CC-BY-4.0</p>
        © 2025 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage/> Trademark Usage</a> page.
      </div></div></div></footer></div>