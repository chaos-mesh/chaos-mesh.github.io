<!doctype html>
<html class="docs-version-2.1.1" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chaos Mesh RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chaos Mesh Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-90760217-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Chaos Mesh" href="/opensearch.xml"><title data-react-helmet="true">Simulate JVM Application Faults | Chaos Mesh</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://chaos-mesh.org/chaos-mesh-social-preview.png"><meta data-react-helmet="true" name="twitter:image" content="https://chaos-mesh.org/chaos-mesh-social-preview.png"><meta data-react-helmet="true" property="og:url" content="https://chaos-mesh.org/docs/simulate-jvm-application-chaos-in-physical-nodes/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="2.1.1"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-2.1.1"><meta data-react-helmet="true" property="og:title" content="Simulate JVM Application Faults | Chaos Mesh"><meta data-react-helmet="true" name="description" content="Chaosd simulates the faults of JVM application through Byteman. The supported fault types are as follows:"><meta data-react-helmet="true" property="og:description" content="Chaosd simulates the faults of JVM application through Byteman. The supported fault types are as follows:"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chaos-mesh.org/docs/simulate-jvm-application-chaos-in-physical-nodes/"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/docs/simulate-jvm-application-chaos-in-physical-nodes/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/zh/docs/simulate-jvm-application-chaos-in-physical-nodes/" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://chaos-mesh.org/docs/simulate-jvm-application-chaos-in-physical-nodes/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.2c9dc4da.css">
<link rel="preload" href="/assets/js/runtime~main.50e71b5a.js" as="script">
<link rel="preload" href="/assets/js/main.69e32b75.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#37b5fb" role="banner"><div class="announcementBarPlaceholder_2m9F"></div><div class="announcementBarContent_3EUC">Chaos Mesh 2.1.0 was released ðŸŽ‰, see <a href="https://github.com/chaos-mesh/chaos-mesh/releases/tag/v2.1.0" target="_blank">what's new</a>!</div><button type="button" class="clean-btn close announcementBarClose_38nx" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Chaos Mesh</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/">2.1.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/simulate-jvm-application-chaos-in-physical-nodes/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/simulate-jvm-application-chaos-in-physical-nodes/">2.1.1</a></li><li><a class="dropdown__link" href="/docs/2.0.5/">2.0.5</a></li><li><a class="dropdown__link" href="/docs/1.2.4/">1.2.4</a></li><li><a class="dropdown__link" href="/docs/1.1.4/">1.1.4</a></li><li><a class="dropdown__link" href="/docs/1.0.3/">1.0.3</a></li><li><a class="dropdown__link" href="/docs/0.9.1/">0.9.1</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/interactive-tutorial/">Interactive Tutorial</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog/">Blog</a><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_3vod"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/simulate-jvm-application-chaos-in-physical-nodes/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/zh/docs/simulate-jvm-application-chaos-in-physical-nodes/" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">ç®€ä½“ä¸­æ–‡</a></li></ul></div><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logos/logo-mini.svg" alt="Chaos Mesh" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logos/logo-mini-white.svg" alt="Chaos Mesh" class="themedImage_1VuW themedImage--dark_hz6m"><b>Chaos Mesh</b></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About Chaos Mesh</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Installation and Deployment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick-start/">Quick Start (Test Recommended)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/production-installation-using-helm/">Install Chaos Mesh using Helm (Recommended for Production Environments)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/offline-installation/">Install Chaos Mesh Offline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uninstallation/">Uninstall Chaos Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/supported-releases/">Supported Releases</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manage-user-permissions/">Manage User Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configure-enabled-namespace/">Configure namespace for Chaos experiments</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Run a Single Chaos Experiment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Orchestrate Multiple Chaos Experiments</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Types of Chaos Experiments</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Kubernetes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Physical Nodes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/chaosd-overview/">Chaosd Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-physical-machine-chaos/">Simulate Faults on Physical Machines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-process-chaos-in-physical-nodes/">Simulate Process Faults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-network-chaos-in-physical-nodes/">Simulate Network Faults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-host-console-in-physical-nodes/">Simulate Host Faults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-heavy-stress-in-physical-nodes/">Simulate Stress Scenarios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-disk-pressure-in-physical-nodes/">Simulate Disk Faults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/simulate-jvm-application-chaos-in-physical-nodes/">Simulate JVM Application Faults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/simulate-time-chaos-on-physical-nodes/">Simulate Time Faults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/chaosd-search-recover/">Search and Recover Chaosd&#x27;s Experiment</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Authentication</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools Integration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQs and Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.1.1</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Simulate JVM Application Faults</h1></header><p>Chaosd simulates the faults of JVM application through <a href="https://github.com/chaos-mesh/byteman" target="_blank" rel="noopener noreferrer">Byteman</a>. The supported fault types are as follows:</p><ul><li>Throw custom exceptions</li><li>Trigger garbage collection</li><li>Increase method latency</li><li>Modify return values of a method</li><li>Trigger faults by setting Byteman configuration files</li><li>Increase JVM pressure</li></ul><p>This document describes how to use Chaosd to create the above fault types of JVM experiments.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="create-experiments-using-command-line-mode">Create experiments using command-line mode<a aria-hidden="true" class="hash-link" href="#create-experiments-using-command-line-mode" title="Direct link to heading">â€‹</a></h2><p>This section introduces how to create the experiments of JVM application faults using command-line mode.</p><p>Before creating the experiment, you can run the following command line to see the types of JVM application faults supported by Chaosd:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm -h</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">JVM attack related commands</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Available Commands:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exception   throw specified exception </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> specified method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  gc          trigger GC </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> JVM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  latency     inject latency to specified method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain">      </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> specified value </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> specified method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  rule-file   inject fault with configured byteman rule </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  stress      inject stress to JVM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help       </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> jvm</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int    the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int   the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Use </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;chaosd attack jvm [command] --help&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">more</span><span class="token plain"> information about a command.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="throw-custom-exceptions-using-command-line-mode">Throw custom exceptions using command-line mode<a aria-hidden="true" class="hash-link" href="#throw-custom-exceptions-using-command-line-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="commands-for-throwing-custom-exceptions">Commands for throwing custom exceptions<a aria-hidden="true" class="hash-link" href="#commands-for-throwing-custom-exceptions" title="Direct link to heading">â€‹</a></h4><p>To see the usage and configuration items of the command that throws custom exceptions, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm exception --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">throw specified exception </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> specified method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm exception </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -c, --class string       Java class name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --exception string   the exception </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to throw </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> action </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;exception&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help               </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> exception</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -m, --method string      the method name </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> Java class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int            the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int           the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="configuration-description-for-throwing-custom-exceptions">Configuration description for throwing custom exceptions<a aria-hidden="true" class="hash-link" href="#configuration-description-for-throwing-custom-exceptions" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Configuration item</th><th align="left">Abbreviation</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>class</code></td><td align="left"><code>c</code></td><td align="left">The name of the Java class</td><td align="left">string type, required</td></tr><tr><td align="left"><code>exception</code></td><td align="left">None</td><td align="left">The thrown custom exception</td><td align="left">string type, required</td></tr><tr><td align="left">method</td><td align="left">m</td><td align="left">The name of the method</td><td align="left">string type, required to be configured</td></tr><tr><td align="left"><code>pid</code></td><td align="left">None</td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left">uid</td><td align="left">None</td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-throwing-custom-exceptions">Example for throwing custom exceptions<a aria-hidden="true" class="hash-link" href="#example-for-throwing-custom-exceptions" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm exception -c Main -m sayhello --exception </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;java.io.IOException(&quot;BOOM&quot;)&#x27;</span><span class="token plain"> --pid </span><span class="token number">30045</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 02:39:39.106 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:208</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;byteman rule&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">rule</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">RULE Main-sayhello-exception-q6nd0</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">CLASS Main</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">METHOD sayhello</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">AT ENTRY</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">IF true</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">DO </span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\t</span><span class="token string" style="color:rgb(255, 121, 198)">throw new java.io.IOException(</span><span class="token string entity" style="color:rgb(255, 121, 198)">\&quot;</span><span class="token string" style="color:rgb(255, 121, 198)">BOOM</span><span class="token string entity" style="color:rgb(255, 121, 198)">\&quot;</span><span class="token string" style="color:rgb(255, 121, 198)">);</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">file</span><span class="token operator">=</span><span class="token plain">/tmp/rule.btm296930759</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attack jvm successfully, uid: 26a45ae2-d395-46f5-a126-2b2c6c85ae9d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="trigger-garbage-collection-using-command-line-mode">Trigger garbage collection using command-line mode<a aria-hidden="true" class="hash-link" href="#trigger-garbage-collection-using-command-line-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="commands-for-triggering-garbage-collection">Commands for triggering garbage collection<a aria-hidden="true" class="hash-link" href="#commands-for-triggering-garbage-collection" title="Direct link to heading">â€‹</a></h4><p>To see the usage and configuration items of the command that triggers garbage collection, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm gc --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">trigger GC </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> JVM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm gc </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help   </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> gc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int            the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int           the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="configuration-description-for-triggering-garbage-collection">Configuration description for triggering garbage collection<a aria-hidden="true" class="hash-link" href="#configuration-description-for-triggering-garbage-collection" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Configuration item</th><th align="left">Abbreviation</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>pid</code></td><td align="left">None</td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">None</td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-triggering-garbage-collection">Example for triggering garbage collection<a aria-hidden="true" class="hash-link" href="#example-for-triggering-garbage-collection" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm gc --pid </span><span class="token number">89345</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 02:49:47.850 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:208</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;byteman rule&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">rule</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">RULE --gc-u0mlf</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">GC</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">file</span><span class="token operator">=</span><span class="token plain">/tmp/rule.btm012481052</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attack jvm successfully, uid: f360e70a-5359-49b6-8526-d7e0a3c6f696</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Triggering garbage collection is a one-time operation, and the experiment does not require recovery.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="increase-method-latency-using-command-line-mode">Increase method latency using command-line mode<a aria-hidden="true" class="hash-link" href="#increase-method-latency-using-command-line-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="commands-for-increasing-method-latency">Commands for increasing method latency<a aria-hidden="true" class="hash-link" href="#commands-for-increasing-method-latency" title="Direct link to heading">â€‹</a></h4><p>To see the usage and configuration items of the command that increases method latency, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm latency --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">inject latency to specified method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm latency </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -c, --class string    Java class name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help            </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> latency</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --latency int     the latency duration, unit ms</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -m, --method string   the method name </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> Java class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int            the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int           the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="configuration-description-for-increasing-method-latency">Configuration description for increasing method latency<a aria-hidden="true" class="hash-link" href="#configuration-description-for-increasing-method-latency" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Configuration item</th><th align="left">Abbreviation</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>class</code></td><td align="left"><code>c</code></td><td align="left">The name of the Java class</td><td align="left">string type, required</td></tr><tr><td align="left"><code>latency</code></td><td align="left">None</td><td align="left">The duration of increasing method latency</td><td align="left">int type, required. The unit is milisecond.</td></tr><tr><td align="left"><code>method</code></td><td align="left"><code>m</code></td><td align="left">The name of the method</td><td align="left">string type, required</td></tr><tr><td align="left"><code>pid</code></td><td align="left">None</td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">None</td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-increasing-method-latency">Example for increasing method latency<a aria-hidden="true" class="hash-link" href="#example-for-increasing-method-latency" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm latency --class Main --method sayhello --latency </span><span class="token number">5000</span><span class="token plain"> --pid </span><span class="token number">100840</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:08:50.716 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:208</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;byteman rule&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">rule</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">RULE Main-sayhello-latency-hlib2</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">CLASS Main</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">METHOD sayhello</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">AT ENTRY</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">IF true</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">DO </span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\t</span><span class="token string" style="color:rgb(255, 121, 198)">Thread.sleep(5000);</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">file</span><span class="token operator">=</span><span class="token plain">/tmp/rule.btm359997255</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:08:51.155 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:94</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;submit rules&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">output</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;install rule Main-sayhello-latency-hlib2</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attack jvm successfully, uid: bbe00c57-ac9d-4113-bf0c-2a6f184be261</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="modify-return-values-of-a-method-using-command-line-mode">Modify return values of a method using command-line mode<a aria-hidden="true" class="hash-link" href="#modify-return-values-of-a-method-using-command-line-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="commands-for-modifying-return-values-of-a-method">Commands for modifying return values of a method<a aria-hidden="true" class="hash-link" href="#commands-for-modifying-return-values-of-a-method" title="Direct link to heading">â€‹</a></h4><p>To see the usage and configuration items of the command that modifies return values of a method, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> specified value </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> specified method</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -c, --class string    Java class name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help            </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -m, --method string   the method name </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> Java class</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --value string    the </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> value </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> action </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;return&#x27;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"> Only supports number and string types.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int            the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int           the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="configuration-description-for-modifying-return-values-of-a-method">Configuration description for modifying return values of a method<a aria-hidden="true" class="hash-link" href="#configuration-description-for-modifying-return-values-of-a-method" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Configuration item</th><th align="left">Abbreviation</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left">class</td><td align="left">c</td><td align="left">The name of the Java class</td><td align="left">string type, required to be configured</td></tr><tr><td align="left">method</td><td align="left">m</td><td align="left">The name of the method</td><td align="left">string type, required to be configured</td></tr><tr><td align="left">value</td><td align="left">None</td><td align="left">Specifies the return value of the method</td><td align="left">string type, required to be configured. Currently, the item can be numeric and string types. If the item (return value) is string, double quotes are required, like  &quot;chaos&quot;.</td></tr><tr><td align="left">pid</td><td align="left">None</td><td align="left">The Java process ID where the fault is needed to be injected</td><td align="left">int type, required to be configured</td></tr><tr><td align="left">port</td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The faults is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left">uid</td><td align="left">None</td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-simulating-the-scenario-of-modifying-return-values-of-a-method">Example for simulating the scenario of modifying return values of a method<a aria-hidden="true" class="hash-link" href="#example-for-simulating-the-scenario-of-modifying-return-values-of-a-method" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">return</span><span class="token plain"> --class Main --method getnum --value </span><span class="token number">999</span><span class="token plain"> --pid </span><span class="token number">112694</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:35:10.603 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:208</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;byteman rule&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">rule</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">RULE Main-getnum-return-i6gb7</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">CLASS Main</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">METHOD getnum</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">AT ENTRY</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">IF true</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">DO </span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\t</span><span class="token string" style="color:rgb(255, 121, 198)">return 999;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">file</span><span class="token operator">=</span><span class="token plain">/tmp/rule.btm051982059</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:35:10.820 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:94</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;submit rules&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">output</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;install rule Main-getnum-return-i6gb7</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attack jvm successfully, uid: e2f204f6-4bed-4d92-aade-2b4a47b02e5d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="trigger-faults-by-setting-byteman-configuration-files-using-command-line-mode">Trigger faults by setting Byteman configuration files using command-line mode<a aria-hidden="true" class="hash-link" href="#trigger-faults-by-setting-byteman-configuration-files-using-command-line-mode" title="Direct link to heading">â€‹</a></h3><p>You can set the fault rules in the Byteman rule configuration file, and then inject the faults by specifying the path of the configuration file using Chaosd. Regarding the Byteman rule configuration, refer to <a href="https://downloads.jboss.org/byteman/4.0.16/byteman-programmers-guide.html#the-byteman-rule-language" target="_blank" rel="noopener noreferrer">byteman-rule-language</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="commands-for-triggering-faults-by-setting-byteman-configuration-files">Commands for triggering faults by setting Byteman configuration files<a aria-hidden="true" class="hash-link" href="#commands-for-triggering-faults-by-setting-byteman-configuration-files" title="Direct link to heading">â€‹</a></h4><p>To see the usage and configuration items of the command that triggers faults by setting Byteman configuration files, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm rule-file --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">inject fault with configured byteman rule </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm rule-file </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help          </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> rule-file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -p, --path string   the path of configured byteman rule </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd, the value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int            the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int           the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="configuration-description-for-triggering-faults-by-setting-byteman-configuration-files">Configuration description for triggering faults by setting Byteman configuration files<a aria-hidden="true" class="hash-link" href="#configuration-description-for-triggering-faults-by-setting-byteman-configuration-files" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Configuration item</th><th align="left">Abbreviation</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>path</code></td><td align="left">None</td><td align="left">Specifies the path of the Byteman configuration file</td><td align="left">string type, required</td></tr><tr><td align="left"><code>pid</code></td><td align="left">None</td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">None</td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-triggering-faults-by-setting-byteman-configuration-files">Example for triggering faults by setting Byteman configuration files<a aria-hidden="true" class="hash-link" href="#example-for-triggering-faults-by-setting-byteman-configuration-files" title="Direct link to heading">â€‹</a></h4><p>First, based on the specific Java program and referring to <a href="https://downloads.jboss.org/byteman/4.0.16/byteman-programmers-guide.html#the-byteman-rule-language" target="_blank" rel="noopener noreferrer">the Byteman rule language</a>, write a rule configuration file. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RULE modify return value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CLASS Main</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">METHOD getnum</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AT ENTRY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">IF true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return 9999</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ENDRULE</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then, save the configuration file to the <code>return.btm</code> file. After that, run the following command to inject faults.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm rule-file -p ./return.btm --pid </span><span class="token number">112694</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:45:40.757 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:152</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;rule file data:RULE modify return value</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">CLASS Main</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">METHOD getnum</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">AT ENTRY</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">IF true</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">DO</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">    return 9999</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:45:41.011 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:94</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;submit rules&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">output</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;install rule modify return value</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attack jvm successfully, uid: 5ca2e06d-a7c6-421d-bb67-0c9908bac17a</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="increase-jvm-stress-using-command-line-mode">Increase JVM stress using command-line mode<a aria-hidden="true" class="hash-link" href="#increase-jvm-stress-using-command-line-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="commands-for-increasing-jvm-stress">Commands for increasing JVM stress<a aria-hidden="true" class="hash-link" href="#commands-for-increasing-jvm-stress" title="Direct link to heading">â€‹</a></h4><p>To see the usage and configuration items of the command that increases JVM stress, run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm stress --help</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">inject stress to JVM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chaosd attack jvm stress </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --cpu-count int   the CPU core number</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -h, --help            </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> stress</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --mem-type int    the memory </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">type</span><span class="token plain"> to be allocated. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;stack&#x27;</span><span class="token plain"> or </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;heap&#x27;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Global Flags:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --log-level string   the log level of chaosd. The value can be </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;debug&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;info&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;warn&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --pid int            the pid of Java process </span><span class="token function" style="color:rgb(80, 250, 123)">which</span><span class="token plain"> needs to attach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --port int           the port of agent server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">default </span><span class="token number">9288</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      --uid string         the experiment ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="configuration-description-for-increasing-jvm-stress">Configuration description for increasing JVM stress<a aria-hidden="true" class="hash-link" href="#configuration-description-for-increasing-jvm-stress" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Configuration item</th><th align="left">Abbreviation</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>cpu-count</code></td><td align="left">None</td><td align="left">The number of CPU cores used for increasing JVM stress</td><td align="left">int type. You can only configure one of <code>cpu-count</code> and <code>mem-type</code>.</td></tr><tr><td align="left"><code>mem-type</code></td><td align="left">None</td><td align="left">The type of OOM</td><td align="left">string type. Currently, both &#x27;stack&#x27; and &#x27;heap&#x27; OOM types are supported. You can only configure one of <code>cpu-count</code> and <code>mem-type</code>.</td></tr><tr><td align="left"><code>pid</code></td><td align="left">None</td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">None</td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-increasing-jvm-stress">Example for increasing JVM stress<a aria-hidden="true" class="hash-link" href="#example-for-increasing-jvm-stress" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd attack jvm stress --cpu-count </span><span class="token number">2</span><span class="token plain"> --pid </span><span class="token number">123546</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:59:51.256 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:208</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;byteman rule&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">rule</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">RULE --stress-jfeiu</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">STRESS CPU</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">CPUCOUNT 2</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">file</span><span class="token operator">=</span><span class="token plain">/tmp/rule.btm773062009</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2021</span><span class="token plain">/08/05 03:59:51.613 +00:00</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">jvm.go:94</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;submit rules&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">output</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;install rule --stress-jfeiu</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attack jvm successfully, uid: b9b997b5-0a0d-4f1f-9081-d52a32318b84</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="create-experiments-using-service-mode">Create experiments using service mode<a aria-hidden="true" class="hash-link" href="#create-experiments-using-service-mode" title="Direct link to heading">â€‹</a></h2><p>You can follow the instructions below to create experiments using service mode.</p><ol><li><p>Execute Chaosd in service mode:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">chaosd server --port </span><span class="token number">31767</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Send HTTP POST request to the <code>/api/attack/{uid}</code> path of Chaosd service.</p><p>For the <code>fault-configuration</code> in <code>bash curl -X POST 172.16.112.130:31767/api/attack/jvm -H &quot;Content-Type:application/json&quot; -d &#x27;{fault-configuration}&#x27;</code>, you need to configure it according to the fault types. For the corresponding parameters, refer to the parameters and examples of each fault type in the following sections.</p></li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><ul><li>When running an experiment, remember to save the UID information of the experiment.</li><li>When you want to end the experiment corresponding to the UID, you need to send an HTTP DELETE request to the <code>/api/attack/{uid}</code> path of Chaosd service.</li></ul></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="throw-custom-exceptions-using-service-mode">Throw custom exceptions using service mode<a aria-hidden="true" class="hash-link" href="#throw-custom-exceptions-using-service-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="parameters-for-throwing-custom-exceptions">Parameters for throwing custom exceptions<a aria-hidden="true" class="hash-link" href="#parameters-for-throwing-custom-exceptions" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Parameter</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left">The action of the experiment</td><td align="left">Set to &quot;exception&quot;</td></tr><tr><td align="left"><code>class</code></td><td align="left">The name of the Java class</td><td align="left">string type, required</td></tr><tr><td align="left"><code>exception</code></td><td align="left">The thrown custom exception</td><td align="left">string type, required</td></tr><tr><td align="left"><code>method</code></td><td align="left">The name of the method</td><td align="left">string type, required</td></tr><tr><td align="left"><code>pid</code></td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">The port number attached to the Java process agent. The faults is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-throwing-custom-exceptions-using-service-mode">Example for throwing custom exceptions using service mode<a aria-hidden="true" class="hash-link" href="#example-for-throwing-custom-exceptions-using-service-mode" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token number">172.16</span><span class="token plain">.112.130:31767/api/attack/jvm -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type:application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;action&quot;:&quot;exception&quot;,&quot;class&quot;:&quot;Main&quot;,&quot;method&quot;:&quot;sayhello&quot;,&quot;exception&quot;:&quot;java.io.IOException(</span><span class="token string entity" style="color:rgb(255, 121, 198)">\&quot;</span><span class="token string" style="color:rgb(255, 121, 198)">BOOM</span><span class="token string entity" style="color:rgb(255, 121, 198)">\&quot;</span><span class="token string" style="color:rgb(255, 121, 198)">)&quot;,&quot;pid&quot;:1828622}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token plain">:200,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;attack successfully&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uid&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;c3c519bf-819a-4a7b-97fb-e3d0814481fa&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="trigger-garbage-collection-using-service-mode">Trigger garbage collection using service mode<a aria-hidden="true" class="hash-link" href="#trigger-garbage-collection-using-service-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="parameters-for-triggering-garbage-collection">Parameters for triggering garbage collection<a aria-hidden="true" class="hash-link" href="#parameters-for-triggering-garbage-collection" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Parameter</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left">The action of the experiment</td><td align="left">Set to &quot;gc&quot;</td></tr><tr><td align="left"><code>pid</code></td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-triggering-garbage-collection-using-service-mode">Example for triggering garbage collection using service mode<a aria-hidden="true" class="hash-link" href="#example-for-triggering-garbage-collection-using-service-mode" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token number">172.16</span><span class="token plain">.112.130:31767/api/attack/jvm -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type:application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;action&quot;:&quot;gc&quot;,&quot;pid&quot;:1828622}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token plain">:200,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;attack successfully&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uid&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;c3c519bf-819a-4a7b-97fb-e3d0814481fa&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Triggering garbage collection is a one-time operation. The experiment does not require recovery.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="increase-method-latency-using-service-mode">Increase method latency using service mode<a aria-hidden="true" class="hash-link" href="#increase-method-latency-using-service-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="parameters-for-increasing-method-latency">Parameters for increasing method latency<a aria-hidden="true" class="hash-link" href="#parameters-for-increasing-method-latency" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Parameter</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left">The action of the experiment</td><td align="left">Set to &quot;latency&quot;</td></tr><tr><td align="left"><code>class</code></td><td align="left">The name of the Java class</td><td align="left">string type, required</td></tr><tr><td align="left"><code>latency</code></td><td align="left">The duration of increasing method latency</td><td align="left">int type, required. The unit is milisecond.</td></tr><tr><td align="left"><code>method</code></td><td align="left">The name of the method</td><td align="left">string type, required</td></tr><tr><td align="left"><code>pid</code></td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">The Java process ID where the fault is needed to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>uid</code></td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-increasing-method-latency-using-service-mode">Example for increasing method latency using service mode<a aria-hidden="true" class="hash-link" href="#example-for-increasing-method-latency-using-service-mode" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token number">172.16</span><span class="token plain">.112.130:31767/api/attack/jvm -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type:application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;action&quot;:&quot;latency&quot;,&quot;class&quot;:&quot;Main&quot;,&quot;method&quot;:&quot;sayhello&quot;,&quot;latency&quot;:5000,&quot;pid&quot;:1828622}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token plain">:200,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;attack successfully&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uid&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;a551206c-960d-4ac5-9056-518e512d4d0d&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="modify-return-values-of-a-method-using-service-mode">Modify return values of a method using service mode<a aria-hidden="true" class="hash-link" href="#modify-return-values-of-a-method-using-service-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="parameters-for-modifying-return-values-of-a-method">Parameters for modifying return values of a method<a aria-hidden="true" class="hash-link" href="#parameters-for-modifying-return-values-of-a-method" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Parameter</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left">The action of the experiment</td><td align="left">Set to &quot;return&quot;</td></tr><tr><td align="left"><code>class</code></td><td align="left">The name of the Java class</td><td align="left">string type, required</td></tr><tr><td align="left"><code>method</code></td><td align="left">The name of the method</td><td align="left">string type, required</td></tr><tr><td align="left"><code>value</code></td><td align="left">Specifies the return value of the method</td><td align="left">string type, required. Currently, the item can be numeric and string types. If the item (return value) is string, double quotes are required, like  &quot;chaos&quot;.</td></tr><tr><td align="left"><code>pid</code></td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-modifying-return-values-of-a-method-using-service-mode">Example for modifying return values of a method using service mode<a aria-hidden="true" class="hash-link" href="#example-for-modifying-return-values-of-a-method-using-service-mode" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token number">172.16</span><span class="token plain">.112.130:31767/api/attack/jvm -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type:application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;action&quot;:&quot;return&quot;,&quot;class&quot;:&quot;Main&quot;,&quot;method&quot;:&quot;getnum&quot;,&quot;value&quot;:&quot;999&quot;,&quot;pid&quot;:1828622}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token plain">:200,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;attack successfully&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uid&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;a551206c-960d-4ac5-9056-518e512d4d0d&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="trigger-faults-by-setting-byteman-configuration-files-using-service-mode">Trigger faults by setting Byteman configuration files using service mode<a aria-hidden="true" class="hash-link" href="#trigger-faults-by-setting-byteman-configuration-files-using-service-mode" title="Direct link to heading">â€‹</a></h3><p>You can set the fault rules according to the Byteman rule configuration. Regarding to the Byteman rule configuration, refer to <a href="https://downloads.jboss.org/byteman/4.0.16/byteman-programmers-guide.html#the-byteman-rule-language" target="_blank" rel="noopener noreferrer">byteman-rule-language</a>.</p><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="parameters-for-triggering-faults-by-setting-byteman-configuration-files">Parameters for triggering faults by setting Byteman configuration files<a aria-hidden="true" class="hash-link" href="#parameters-for-triggering-faults-by-setting-byteman-configuration-files" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Parameter</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left">The action of the experiment</td><td align="left">Set to &quot;rule-data&quot;</td></tr><tr><td align="left"><code>rule-data</code></td><td align="left">Specifies the Byteman configuration data</td><td align="left">string type, required</td></tr><tr><td align="left"><code>pid</code></td><td align="left">The Java process ID where the fault is to be injected</td><td align="left">int type, required</td></tr><tr><td align="left"><code>port</code></td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td><td align="left">int type. The default value is <code>9288</code>.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">The experiment ID</td><td align="left">string type. This item is not required to be configured, because Chaosd randomly creates one.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-triggering-faults-by-setting-byteman-configuration-files-using-service-mode">Example for triggering faults by setting Byteman configuration files using service mode<a aria-hidden="true" class="hash-link" href="#example-for-triggering-faults-by-setting-byteman-configuration-files-using-service-mode" title="Direct link to heading">â€‹</a></h4><p>First, based on the specific Java program and referring to <a href="https://downloads.jboss.org/byteman/4.0.16/byteman-programmers-guide.html#the-byteman-rule-language" target="_blank" rel="noopener noreferrer">the Byteman rule language</a>, write a rule configuration file. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RULE modify return value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CLASS Main</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">METHOD getnum</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AT ENTRY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">IF true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DO</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return 9999</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ENDRULE</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then, convert the line breaks in the configuration file to the newline character &quot;\n&quot;, and use the converted text as the value of &quot;rule-data&quot;. Run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token number">127.0</span><span class="token plain">.0.1:31767/api/attack/jvm -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type:application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;action&quot;:&quot;rule-data&quot;,&quot;pid&quot;:30045,&quot;rule-data&quot;:&quot;</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">RULE modify return value</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">CLASS Main</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">METHOD getnum</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">AT ENTRY</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">IF true</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">DO return 9999</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">ENDRULE</span><span class="token string entity" style="color:rgb(255, 121, 198)">\n</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token plain">:200,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;attack successfully&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uid&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;a551206c-960d-4ac5-9056-518e512d4d0d&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="increase-jvm-stress-using-service-mode">Increase JVM stress using service mode<a aria-hidden="true" class="hash-link" href="#increase-jvm-stress-using-service-mode" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="parameters-for-increasing-jvm-stress">Parameters for increasing JVM stress<a aria-hidden="true" class="hash-link" href="#parameters-for-increasing-jvm-stress" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">Parameter</th><th align="left">Description</th><th align="left">Value</th></tr></thead><tbody><tr><td align="left"><code>action</code></td><td align="left">The action of the experiment</td><td align="left">Set to &quot;stress&quot;</td></tr><tr><td align="left"><code>cpu-count</code></td><td align="left">The number of CPU cores used for increasing CPU stress</td><td align="left">int type. You can only configure one of <code>cpu-count</code> and <code>mem-type</code>.</td></tr><tr><td align="left"><code>mem-type</code></td><td align="left">The type of OOM</td><td align="left">string type. Currently, both &#x27;stack&#x27; and &#x27;heap&#x27; OOM types are supported. You can only configure one of <code>cpu-count</code> and <code>mem-type</code>.</td></tr><tr><td align="left"><code>pid</code></td><td align="left">None</td><td align="left">The Java process ID where the fault is to be injected</td></tr><tr><td align="left"><code>port</code></td><td align="left">None</td><td align="left">The port number attached to the Java process agent. The fault is injected into the Java process through this port number.</td></tr><tr><td align="left"><code>uid</code></td><td align="left">None</td><td align="left">The experiment ID</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="example-for-increasing-jvm-stress-using-service-mode">Example for increasing JVM stress using service mode<a aria-hidden="true" class="hash-link" href="#example-for-increasing-jvm-stress-using-service-mode" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token number">172.16</span><span class="token plain">.112.130:31767/api/attack/jvm -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type:application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{&quot;action&quot;:&quot;stress&quot;,&quot;cpu-count&quot;:1,&quot;pid&quot;:1828622}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The result is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token plain">:200,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;message&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;attack successfully&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uid&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;a551206c-960d-4ac5-9056-518e512d4d0d&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/chaos-mesh/website/edit/master/versioned_docs/version-2.1.1/simulate-jvm-application-chaos-in-physical-nodes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/simulate-disk-pressure-in-physical-nodes/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Simulate Disk Faults</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/simulate-time-chaos-on-physical-nodes/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Simulate Time Faults<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-experiments-using-command-line-mode" class="table-of-contents__link toc-highlight">Create experiments using command-line mode</a><ul><li><a href="#throw-custom-exceptions-using-command-line-mode" class="table-of-contents__link toc-highlight">Throw custom exceptions using command-line mode</a></li><li><a href="#trigger-garbage-collection-using-command-line-mode" class="table-of-contents__link toc-highlight">Trigger garbage collection using command-line mode</a></li><li><a href="#increase-method-latency-using-command-line-mode" class="table-of-contents__link toc-highlight">Increase method latency using command-line mode</a></li><li><a href="#modify-return-values-of-a-method-using-command-line-mode" class="table-of-contents__link toc-highlight">Modify return values of a method using command-line mode</a></li><li><a href="#trigger-faults-by-setting-byteman-configuration-files-using-command-line-mode" class="table-of-contents__link toc-highlight">Trigger faults by setting Byteman configuration files using command-line mode</a></li><li><a href="#increase-jvm-stress-using-command-line-mode" class="table-of-contents__link toc-highlight">Increase JVM stress using command-line mode</a></li></ul></li><li><a href="#create-experiments-using-service-mode" class="table-of-contents__link toc-highlight">Create experiments using service mode</a><ul><li><a href="#throw-custom-exceptions-using-service-mode" class="table-of-contents__link toc-highlight">Throw custom exceptions using service mode</a></li><li><a href="#trigger-garbage-collection-using-service-mode" class="table-of-contents__link toc-highlight">Trigger garbage collection using service mode</a></li><li><a href="#increase-method-latency-using-service-mode" class="table-of-contents__link toc-highlight">Increase method latency using service mode</a></li><li><a href="#modify-return-values-of-a-method-using-service-mode" class="table-of-contents__link toc-highlight">Modify return values of a method using service mode</a></li><li><a href="#trigger-faults-by-setting-byteman-configuration-files-using-service-mode" class="table-of-contents__link toc-highlight">Trigger faults by setting Byteman configuration files using service mode</a></li><li><a href="#increase-jvm-stress-using-service-mode" class="table-of-contents__link toc-highlight">Increase JVM stress using service mode</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start/">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/run-a-chaos-experiment/">Run a Chaos Experiment</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer-guide-overview/">Developer Guide Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faqs/">FAQs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/chaos_mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack (#project-chaos-mesh)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://community.cncf.io/chaos-mesh-community/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/chaos-mesh/chaos-mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Others</div><ul class="footer__items"><li class="footer__item"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>Â© Chaos Mesh Authors 2021 | Documentation Distributed under CC-BY-4.0 </strong>
        <br>
        <br>
        Â© 2021 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.50e71b5a.js"></script>
<script src="/assets/js/main.69e32b75.js"></script>
</body>
</html>