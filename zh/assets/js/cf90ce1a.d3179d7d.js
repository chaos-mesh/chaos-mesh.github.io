"use strict";(self.webpackChunkchaos_mesh_website=self.webpackChunkchaos_mesh_website||[]).push([["4651"],{4839:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>o,default:()=>h,contentTitle:()=>d,assets:()=>t,toc:()=>i,metadata:()=>l});var l=JSON.parse('{"id":"run-serial-or-parallel-experiments","title":"\u4E32\u884C\u6216\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C","description":"Chaos Mesh \u5DE5\u4F5C\u6D41\u63D0\u4F9B\u4E86\u4E32\u884C\u4E0E\u5E76\u884C\u4E24\u79CD\u5B9E\u9A8C\u7F16\u6392\u65B9\u5F0F\u3002\u4F60\u53EF\u4EE5\u4F9D\u636E\u5B9E\u9A8C\u9700\u6C42\uFF0C\u7F16\u6392\u8C03\u5EA6\u591A\u4E2A\u5B9E\u9A8C\u7684\u8FD0\u884C\u65B9\u5F0F\u3002","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/run-serial-or-parallel-experiments.md","sourceDirName":".","slug":"/run-serial-or-parallel-experiments","permalink":"/zh/docs/next/run-serial-or-parallel-experiments","draft":false,"unlisted":false,"editUrl":"https://github.com/chaos-mesh/website/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/run-serial-or-parallel-experiments.md","tags":[],"version":"current","frontMatter":{"title":"\u4E32\u884C\u6216\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C"},"sidebar":"docs","previous":{"title":"\u521B\u5EFA Chaos Mesh \u5DE5\u4F5C\u6D41","permalink":"/zh/docs/next/create-chaos-mesh-workflow"},"next":{"title":"\u5728\u5DE5\u4F5C\u6D41\u4E2D\u53D1\u9001 HTTP \u8BF7\u6C42","permalink":"/zh/docs/next/send-http-request-on-workflow"}}'),r=s(52676),a=s(72110);let o={title:"\u4E32\u884C\u6216\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C"},d=void 0,t={},i=[{value:"\u4E32\u884C\u8FD0\u884C\u5B9E\u9A8C",id:"\u4E32\u884C\u8FD0\u884C\u5B9E\u9A8C",level:2},{value:"\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C",id:"\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C",level:2},{value:"\u901A\u8FC7 Chaos Dashboard \u521B\u5EFA\u4E32\u884C\u6216\u5E76\u884C\u8282\u70B9\u7684\u5DE5\u4F5C\u6D41",id:"\u901A\u8FC7-chaos-dashboard-\u521B\u5EFA\u4E32\u884C\u6216\u5E76\u884C\u8282\u70B9\u7684\u5DE5\u4F5C\u6D41",level:2},{value:"\u521B\u5EFA\u4E32\u884C\u8282\u70B9",id:"\u521B\u5EFA\u4E32\u884C\u8282\u70B9",level:3},{value:"\u521B\u5EFA\u5E76\u884C\u8282\u70B9",id:"\u521B\u5EFA\u5E76\u884C\u8282\u70B9",level:3},{value:"\u5D4C\u5957\u4E32\u884C\u8282\u70B9\u4E0E\u5E76\u884C\u8282\u70B9",id:"\u5D4C\u5957\u4E32\u884C\u8282\u70B9\u4E0E\u5E76\u884C\u8282\u70B9",level:3}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Chaos Mesh \u5DE5\u4F5C\u6D41\u63D0\u4F9B\u4E86\u4E32\u884C\u4E0E\u5E76\u884C\u4E24\u79CD\u5B9E\u9A8C\u7F16\u6392\u65B9\u5F0F\u3002\u4F60\u53EF\u4EE5\u4F9D\u636E\u5B9E\u9A8C\u9700\u6C42\uFF0C\u7F16\u6392\u8C03\u5EA6\u591A\u4E2A\u5B9E\u9A8C\u7684\u8FD0\u884C\u65B9\u5F0F\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5982\u679C\u4F60\u60F3\u8981\u6309\u7167\u987A\u5E8F\u8FDB\u884C\u591A\u4E2A\u6DF7\u6C8C\u5B9E\u9A8C\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E32\u884C\u8282\u70B9\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679C\u4F60\u60F3\u8981\u540C\u65F6\u8FDB\u884C\u591A\u4E2A\u6DF7\u6C8C\u5B9E\u9A8C\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5E76\u884C\u8282\u70B9\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u8BBE\u8BA1\u4E32\u884C\u8282\u70B9\u4E0E\u5E76\u884C\u8282\u70B9\u65F6\u4F7F\u7528\u4E86",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Composite_pattern",children:"\u7EC4\u5408\u6A21\u5F0F"}),"\uFF0C\u53EF\u4EE5\u5305\u542B\u591A\u4E2A\u4EFB\u610F\u7C7B\u578B\u7684\u8282\u70B9\uFF0C\u5E76\u4EE5\u7279\u5B9A\u7684\u6A21\u5F0F\u6267\u884C\u8FD9\u4E9B\u88AB\u7EC4\u5408\u7684\u8282\u70B9\u3002\u8FD9\u4E5F\u610F\u5473\u7740\u4F60\u53EF\u4EE5\u5D4C\u5957\u7EC4\u5408\u4E32\u884C\u4E0E\u5E76\u884C\u8282\u70B9\u6765\u5B9E\u73B0\u590D\u6742\u7684\u8C03\u5EA6\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u4E32\u884C\u8FD0\u884C\u5B9E\u9A8C",children:"\u4E32\u884C\u8FD0\u884C\u5B9E\u9A8C"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u5DE5\u4F5C\u6D41\u4E2D\u521B\u5EFA ",(0,r.jsx)(n.code,{children:"templates"})," \u65F6\uFF0C\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"templateType: Serial"})," \u4FBF\u53EF\u4EE5\u58F0\u660E\u4E00\u4E2A\u4E32\u884C\u8282\u70B9\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4E32\u884C\u8282\u70B9\u4E2D\u53E6\u4E00\u4E2A\u5FC5\u9700\u7684\u5B57\u6BB5\u4E3A ",(0,r.jsx)(n.code,{children:"children"}),"\uFF0C\u7C7B\u578B\u4E3A ",(0,r.jsx)(n.code,{children:"[]string"})," \uFF0C\u503C\u4E3A\u4E32\u884C\u6267\u884C\u7684\u5176\u4ED6 ",(0,r.jsx)(n.code,{children:"template"})," \u540D\u79F0\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: chaos-mesh.org/v1alpha1\nkind: Workflow\nmetadata:\n  name: try-workflow-serial\nspec:\n  entry: serial-of-3-node\n  templates:\n    - name: serial-of-3-node\n      templateType: Serial\n      deadline: 240s\n      children:\n        - workflow-stress-chaos\n        - suspending\n        - workflow-network-chaos\n    - name: suspending\n      templateType: Suspend\n      deadline: 10s\n    - name: workflow-network-chaos\n      templateType: NetworkChaos\n      deadline: 20s\n      networkChaos:\n        direction: to\n        action: delay\n        mode: all\n        selector:\n          labelSelectors:\n            'app': 'hello-kubernetes'\n        delay:\n          latency: '90ms'\n          correlation: '25'\n          jitter: '90ms'\n    - name: workflow-stress-chaos\n      templateType: StressChaos\n      deadline: 20s\n      stressChaos:\n        mode: one\n        selector:\n          labelSelectors:\n            'app': 'hello-kubernetes'\n        stressors:\n          cpu:\n            workers: 1\n            load: 20\n            options: ['--cpu 1', '--timeout 600']\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u58F0\u660E\u4E86\u4E00\u4E2A\u4E32\u884C\u8282\u70B9\uFF0C\u540D\u4E3A ",(0,r.jsx)(n.code,{children:"serial-of-3-node"}),"\uFF0C\u5C06\u6309\u7167\u987A\u5E8F\u6267\u884C ",(0,r.jsx)(n.code,{children:"workflow-stress-chaos"}),"\uFF0C",(0,r.jsx)(n.code,{children:"suspending"})," \u4E0E ",(0,r.jsx)(n.code,{children:"workflow-network-chaos"}),"\u3002\u5F85\u6240\u6709\u4EFB\u52A1\u5B8C\u6210\u540E\uFF0C\u4E32\u884C\u8282\u70B9\u88AB\u6807\u8BB0\u4E3A\u5B8C\u6210\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4E32\u884C\u8282\u70B9\u6267\u884C\u65F6\uFF0C\u4F1A\u4F9D\u6B21\u6267\u884C ",(0,r.jsx)(n.code,{children:"children"})," \u4E2D\u58F0\u660E\u7684\u4EFB\u52A1\uFF0C\u4FDD\u6301\u540C\u4E00\u65F6\u95F4\u70B9\u53EA\u6709\u4E00\u4E2A\u4EFB\u52A1\u5728\u6267\u884C\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4E32\u884C\u8282\u70B9\u4E2D\u7684 ",(0,r.jsx)(n.code,{children:"deadline"})," \u4E3A\u53EF\u9009\u5B57\u6BB5\uFF0C\u76EE\u7684\u662F\u9650\u5236\u6574\u4E2A\u4E32\u884C\u6D41\u7A0B\u7684\u6700\u957F\u6267\u884C\u65F6\u95F4\u3002\u82E5\u8FBE\u5230\u4E86\u8FD9\u4E2A\u65F6\u95F4\uFF0C\u5176\u4E0B\u5C5E\u7684\u5B50\u8282\u70B9\u5C06\u4F1A\u88AB\u505C\u6B62\uFF0C\u672A\u6267\u884C\u7684\u8282\u70B9\u4E5F\u4E0D\u4F1A\u518D\u6267\u884C\u3002\u82E5\u6240\u6709\u5B50\u8282\u70B9\u5148\u4E8E ",(0,r.jsx)(n.code,{children:"deadline"})," \u5B8C\u6210\u4E86\u884C\u4E3A\uFF0C\u4E32\u884C\u8282\u70B9\u4F1A\u7ACB\u523B\u88AB\u6807\u8BB0\u4E3A\u5B8C\u6210\uFF0C",(0,r.jsx)(n.code,{children:"deadline"})," \u6CA1\u6709\u4EFB\u4F55\u5F71\u54CD\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C",children:"\u5E76\u884C\u8FD0\u884C\u5B9E\u9A8C"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u5DE5\u4F5C\u6D41\u4E2D\u521B\u5EFA ",(0,r.jsx)(n.code,{children:"templates"})," \u65F6\uFF0C\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"templateType: Parallel"})," \u4FBF\u53EF\u4EE5\u58F0\u660E\u4E00\u4E2A\u5E76\u884C\u8282\u70B9\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5E76\u884C\u8282\u70B9\u4E2D\u53E6\u4E00\u4E2A\u5FC5\u9700\u7684\u5B57\u6BB5\u4E3A ",(0,r.jsx)(n.code,{children:"children"}),"\uFF0C\u7C7B\u578B\u4E3A ",(0,r.jsx)(n.code,{children:"[]string"}),"\uFF0C\u503C\u4E3A\u5E76\u884C\u6267\u884C\u7684\u5176\u4ED6 ",(0,r.jsx)(n.code,{children:"template"})," \u540D\u79F0\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: chaos-mesh.org/v1alpha1\nkind: Workflow\nmetadata:\n  name: try-workflow-parallel\nspec:\n  entry: parallel-of-2-chaos\n  templates:\n    - name: parallel-of-2-chaos\n      templateType: Parallel\n      deadline: 240s\n      children:\n        - workflow-stress-chaos\n        - workflow-network-chaos\n    - name: workflow-network-chaos\n      templateType: NetworkChaos\n      deadline: 20s\n      networkChaos:\n        direction: to\n        action: delay\n        mode: all\n        selector:\n          labelSelectors:\n            'app': 'hello-kubernetes'\n        delay:\n          latency: '90ms'\n          correlation: '25'\n          jitter: '90ms'\n    - name: workflow-stress-chaos\n      templateType: StressChaos\n      deadline: 20s\n      stressChaos:\n        mode: one\n        selector:\n          labelSelectors:\n            'app': 'hello-kubernetes'\n        stressors:\n          cpu:\n            workers: 1\n            load: 20\n            options: ['--cpu 1', '--timeout 600']\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u58F0\u660E\u4E86\u4E00\u4E2A\u5E76\u884C\u8282\u70B9\uFF0C\u540D\u4E3A ",(0,r.jsx)(n.code,{children:"parallel-of-2-chaos"}),"\uFF0C\u5C06\u540C\u65F6\u6267\u884C ",(0,r.jsx)(n.code,{children:"workflow-stress-chaos"})," \u4E0E ",(0,r.jsx)(n.code,{children:"workflow-network-chaos"}),"\u3002\u5F85\u6240\u6709\u4EFB\u52A1\u5B8C\u6210\u540E\uFF0C\u5E76\u884C\u8282\u70B9\u88AB\u6807\u8BB0\u4E3A\u5B8C\u6210\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5E76\u884C\u8282\u70B9\u6267\u884C\u65F6\uFF0C\u4F1A\u540C\u65F6\u6267\u884C ",(0,r.jsx)(n.code,{children:"children"})," \u4E2D\u6240\u6709\u58F0\u660E\u7684\u4EFB\u52A1\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5E76\u884C\u8282\u70B9\u540C\u6837\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"deadline"})," \u53EF\u9009\u5B57\u6BB5\uFF0C\u7C7B\u4F3C\u4E8E\u4E32\u884C\u8282\u70B9\uFF0C\u76EE\u7684\u662F\u9650\u5236\u6574\u4E2A\u5E76\u884C\u6D41\u7A0B\u7684\u6700\u957F\u6267\u884C\u65F6\u95F4\u3002\u82E5\u8FBE\u5230\u4E86\u8FD9\u4E2A\u65F6\u95F4\uFF0C\u5176\u4E0B\u5C5E\u7684\u5B50\u8282\u70B9\u5C06\u4F1A\u88AB\u505C\u6B62\u3002\u82E5\u6240\u6709\u5B50\u8282\u70B9\u5148\u4E8E ",(0,r.jsx)(n.code,{children:"deadline"})," \u5B8C\u6210\u4E86\u884C\u4E3A\uFF0C\u5E76\u884C\u8282\u70B9\u4F1A\u7ACB\u523B\u88AB\u6807\u8BB0\u4E3A\u5B8C\u6210\uFF0C",(0,r.jsx)(n.code,{children:"deadline"})," \u6CA1\u6709\u4EFB\u4F55\u5F71\u54CD\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u901A\u8FC7-chaos-dashboard-\u521B\u5EFA\u4E32\u884C\u6216\u5E76\u884C\u8282\u70B9\u7684\u5DE5\u4F5C\u6D41",children:"\u901A\u8FC7 Chaos Dashboard \u521B\u5EFA\u4E32\u884C\u6216\u5E76\u884C\u8282\u70B9\u7684\u5DE5\u4F5C\u6D41"}),"\n",(0,r.jsx)(n.h3,{id:"\u521B\u5EFA\u4E32\u884C\u8282\u70B9",children:"\u521B\u5EFA\u4E32\u884C\u8282\u70B9"}),"\n",(0,r.jsxs)(n.p,{children:["Chaos Dashboard \u4F1A\u521B\u5EFA\u4E00\u4E2A\u9884\u5B9A\u4E49\u7684\u4E32\u884C\u8282\u70B9\uFF0C\u540D\u4E3A ",(0,r.jsx)(n.code,{children:"entry"}),"\u3002\u56E0\u6B64\uFF0C\u5F53\u5728 Chaos Dashboard \u4E2D\u521B\u5EFA\u4E32\u884C\u8282\u70B9\u7684\u5DE5\u4F5C\u6D41\u65F6\uFF0C\u9ED8\u8BA4\u4F1A\u5728 ",(0,r.jsx)(n.code,{children:"entry"})," \u4E0B\u521B\u5EFA\u6D41\u7A0B\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Serial Node On Dashboard",src:s(89849).Z+"",width:"2342",height:"1553"})}),"\n",(0,r.jsx)(n.h3,{id:"\u521B\u5EFA\u5E76\u884C\u8282\u70B9",children:"\u521B\u5EFA\u5E76\u884C\u8282\u70B9"}),"\n",(0,r.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u5728 Chaos Dashboard \u4E2D\u521B\u5EFA\u4E00\u4E2A\u5E76\u884C\u8282\u70B9 ",(0,r.jsx)(n.code,{children:"Parallel"}),"\uFF0C\u7136\u540E\u5728\u8BE5\u8282\u70B9\u4E0B\u521B\u5EFA\u5B50\u8282\u70B9\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Parallel Node on Dashboard",src:s(17562).Z+"",width:"2342",height:"1553"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5D4C\u5957\u4E32\u884C\u8282\u70B9\u4E0E\u5E76\u884C\u8282\u70B9",children:"\u5D4C\u5957\u4E32\u884C\u8282\u70B9\u4E0E\u5E76\u884C\u8282\u70B9"}),"\n",(0,r.jsx)(n.p,{children:"\u4F60\u53EF\u4EE5\u5C06\u4E32\u884C\u4E0E\u5E76\u884C\u8282\u70B9\u5D4C\u5957\u5728\u4E00\u8D77\uFF0C\u4ECE\u800C\u521B\u5EFA\u66F4\u590D\u6742\u7684\u6D41\u7A0B\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Nested Serial And Parallel Node",src:s(92834).Z+"",width:"1536",height:"1539"})})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},17562:function(e,n,s){s.d(n,{Z:()=>l});let l=s.p+"assets/images/create-parallel-node-on-dashboard-0cd0c7c27f143118369da6283d1c5f1b.png"},89849:function(e,n,s){s.d(n,{Z:()=>l});let l=s.p+"assets/images/create-serial-node-on-dashboard-f3b2feacd8774c74a62809a2f0d51648.png"},92834:function(e,n,s){s.d(n,{Z:()=>l});let l=s.p+"assets/images/nested-serial-and-parallel-94b7c87e84f18b4c63ba7df68011de7f.png"},72110:function(e,n,s){s.d(n,{Z:()=>d,a:()=>o});var l=s(75271);let r={},a=l.createContext(r);function o(e){let n=l.useContext(a);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);