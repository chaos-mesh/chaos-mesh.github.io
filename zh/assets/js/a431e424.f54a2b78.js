"use strict";(self.webpackChunkchaos_mesh_website=self.webpackChunkchaos_mesh_website||[]).push([["422"],{69276:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>r,toc:()=>i,default:()=>t,metadata:()=>l,assets:()=>o,contentTitle:()=>a});var l=JSON.parse('{"id":"uninstallation","title":"\u5378\u8F7D Chaos Mesh","description":"\u8FD9\u7BC7\u6587\u6863\u4ECB\u7ECD\u4E86\u5982\u4F55\u5378\u8F7D Chaos Mesh\uFF0C\u5305\u62EC\u4F7F\u7528 Helm \u5378\u8F7D Chaos Mesh \u548C\u624B\u52A8\u5378\u8F7D Chaos Mesh\u3002\u5982\u679C\u4F60\u9700\u8981\u4ECE Kubernetes \u96C6\u7FA4\u4E2D\u624B\u52A8\u6E05\u9664 Chaos Mesh\uFF0C\u8FD9\u7BC7\u6587\u6863\u4E5F\u662F\u975E\u5E38\u6709\u7528\u7684\u3002","source":"@site/i18n/zh/docusaurus-plugin-content-docs/version-2.6.7/uninstallation.md","sourceDirName":".","slug":"/uninstallation","permalink":"/zh/docs/2.6.7/uninstallation","draft":false,"unlisted":false,"editUrl":"https://github.com/chaos-mesh/website/edit/master/i18n/zh/docusaurus-plugin-content-docs/version-2.6.7/uninstallation.md","tags":[],"version":"2.6.7","frontMatter":{"title":"\u5378\u8F7D Chaos Mesh"},"sidebar":"docs","previous":{"title":"\u6301\u4E45\u5316 Chaos Dashboard \u6570\u636E","permalink":"/zh/docs/2.6.7/persistence-dashboard"},"next":{"title":"\u7BA1\u7406\u7528\u6237\u6743\u9650","permalink":"/zh/docs/2.6.7/manage-user-permissions"}}'),h=n(23420),c=n(18407);let r={title:"\u5378\u8F7D Chaos Mesh"},a,o={},i=[{value:"\u901A\u8FC7 Helm \u5378\u8F7D Chaos Mesh",id:"\u901A\u8FC7-helm-\u5378\u8F7D-chaos-mesh",level:2},{value:"\u7B2C 1 \u6B65\uFF1A\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C",id:"\u7B2C-1-\u6B65\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C",level:3},{value:"\u7B2C 2 \u6B65\uFF1A\u67E5\u770B Helm Release",id:"\u7B2C-2-\u6B65\u67E5\u770B-helm-release",level:3},{value:"\u7B2C 3 \u6B65\uFF1A\u5220\u9664 Helm Release",id:"\u7B2C-3-\u6B65\u5220\u9664-helm-release",level:3},{value:"\u7B2C 4 \u6B65\uFF1A\u5220\u9664 CRDs",id:"\u7B2C-4-\u6B65\u5220\u9664-crds",level:3},{value:"\u624B\u52A8\u5378\u8F7D Chaos Mesh",id:"\u624B\u52A8\u5378\u8F7D-chaos-mesh",level:2},{value:"\u7B2C 1 \u6B65\uFF1A\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C",id:"\u7B2C-1-\u6B65\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C-1",level:3},{value:"\u7B2C 2 \u6B65\uFF1A\u5220\u9664 Chaos Mesh \u5DE5\u4F5C\u8D1F\u8F7D",id:"\u7B2C-2-\u6B65\u5220\u9664-chaos-mesh-\u5DE5\u4F5C\u8D1F\u8F7D",level:3},{value:"\u7B2C 3 \u6B65\uFF1A\u5220\u9664 Chaos Mesh RBAC \u5BF9\u8C61",id:"\u7B2C-3-\u6B65\u5220\u9664-chaos-mesh-rbac-\u5BF9\u8C61",level:3},{value:"\u7B2C 4 \u6B65\uFF1A\u5220\u9664 ConfigMaps \u548C Secrets",id:"\u7B2C-4-\u6B65\u5220\u9664-configmaps-\u548C-secrets",level:3},{value:"\u7B2C 5 \u6B65\uFF1A\u5220\u9664 Webhook",id:"\u7B2C-5-\u6B65\u5220\u9664-webhook",level:3},{value:"Step 6: \u5220\u9664 CRDs",id:"step-6-\u5220\u9664-crds",level:3}];function d(e){let s={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.p,{children:"\u8FD9\u7BC7\u6587\u6863\u4ECB\u7ECD\u4E86\u5982\u4F55\u5378\u8F7D Chaos Mesh\uFF0C\u5305\u62EC\u4F7F\u7528 Helm \u5378\u8F7D Chaos Mesh \u548C\u624B\u52A8\u5378\u8F7D Chaos Mesh\u3002\u5982\u679C\u4F60\u9700\u8981\u4ECE Kubernetes \u96C6\u7FA4\u4E2D\u624B\u52A8\u6E05\u9664 Chaos Mesh\uFF0C\u8FD9\u7BC7\u6587\u6863\u4E5F\u662F\u975E\u5E38\u6709\u7528\u7684\u3002"}),"\n",(0,h.jsx)(s.h2,{id:"\u901A\u8FC7-helm-\u5378\u8F7D-chaos-mesh",children:"\u901A\u8FC7 Helm \u5378\u8F7D Chaos Mesh"}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-1-\u6B65\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C",children:"\u7B2C 1 \u6B65\uFF1A\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C"}),"\n",(0,h.jsx)(s.p,{children:"\u5728\u5378\u8F7D Chaos Mesh \u4E4B\u524D\uFF0C\u8BF7\u786E\u4FDD\u6240\u6709\u7684\u6DF7\u6C8C\u5B9E\u9A8C\u90FD\u5DF2\u88AB\u5220\u9664\u3002\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u67E5\u770B\u6DF7\u6C8C\u5B9E\u9A8C\u76F8\u5173\u7684\u5BF9\u8C61\uFF1A"}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-shell",children:"for i in $(kubectl api-resources | grep chaos-mesh | awk '{print $1}'); do kubectl get $i -A; done\n"})}),"\n",(0,h.jsx)(s.p,{children:"\u4E00\u65E6\u786E\u4FDD\u6240\u6709\u7684\u6DF7\u6C8C\u5B9E\u9A8C\u90FD\u5DF2\u88AB\u5220\u9664\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5378\u8F7D Chaos Mesh\uFF1A"}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-2-\u6B65\u67E5\u770B-helm-release",children:"\u7B2C 2 \u6B65\uFF1A\u67E5\u770B Helm Release"}),"\n",(0,h.jsx)(s.p,{children:"\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u67E5\u770B\u5DF2\u5B89\u88C5\u7684 Helm Release\uFF1A"}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-shell",children:"helm list -A\n"})}),"\n",(0,h.jsx)(s.p,{children:"\u8F93\u51FA\u5E94\u8BE5\u50CF\u4E0B\u9762\u8FD9\u6837\uFF1A"}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-text",children:"NAME                    NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                   APP VERSION\nchaos-mesh-playground   chaos-mesh      1               2021-12-01 22:58:18.037052401 +0800 CST deployed        chaos-mesh-2.1.0        2.1.0\n"})}),"\n",(0,h.jsxs)(s.p,{children:["\u8FD9\u8868\u793A\u4E00\u4E2A\u540D\u4E3A ",(0,h.jsx)(s.code,{children:"chaos-mesh-playground"})," \u7684 Helm Release \u5DF2\u7ECF\u5B89\u88C5\u5728\u547D\u540D\u7A7A\u95F4 ",(0,h.jsx)(s.code,{children:"chaos-mesh"})," \u4E2D\uFF0C\u6240\u4EE5\u8FD9\u91CC\u662F\u5C06\u8981\u5378\u8F7D\u7684 Helm Release\u3002"]}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-3-\u6B65\u5220\u9664-helm-release",children:"\u7B2C 3 \u6B65\uFF1A\u5220\u9664 Helm Release"}),"\n",(0,h.jsx)(s.p,{children:"\u5728\u786E\u8BA4\u76EE\u6807 Helm Release \u540E\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5220\u9664 Helm Release\uFF1A"}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-shell",children:"helm uninstall chaos-mesh-playground -n chaos-mesh\n"})}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-4-\u6B65\u5220\u9664-crds",children:"\u7B2C 4 \u6B65\uFF1A\u5220\u9664 CRDs"}),"\n",(0,h.jsxs)(s.p,{children:[(0,h.jsx)(s.code,{children:"helm uninstall"})," \u4E0D\u4F1A\u5220\u9664 CRDs\uFF0C\u6240\u4EE5\u4F60\u53EF\u4EE5\u624B\u52A8\u5220\u9664\u5B83\u4EEC\uFF0C\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A"]}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-shell",children:"kubectl delete crd $(kubectl get crd | grep 'chaos-mesh.org' | awk '{print $1}')\n"})}),"\n",(0,h.jsx)(s.h2,{id:"\u624B\u52A8\u5378\u8F7D-chaos-mesh",children:"\u624B\u52A8\u5378\u8F7D Chaos Mesh"}),"\n",(0,h.jsxs)(s.p,{children:["\u5982\u679C\u4F60\u901A\u8FC7\u811A\u672C ",(0,h.jsx)(s.code,{children:"install.sh"})," \u5B89\u88C5\u4E86 Chaos Mesh\uFF0C\u6216\u8005\u4F60\u4FEE\u6539\u4E86 Chaos Mesh \u7684\u914D\u7F6E\u548C\u7EC4\u4EF6\uFF0C\u6216\u8005\u4F60\u9047\u5230\u4E86\u5378\u8F7D Chaos Mesh \u65F6\u7684\u95EE\u9898\uFF0C\u8FD9\u91CC\u662F\u4E00\u4E9B\u624B\u52A8\u5378\u8F7D Chaos Mesh \u7684\u65B9\u6CD5\u3002"]}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-1-\u6B65\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C-1",children:"\u7B2C 1 \u6B65\uFF1A\u6E05\u7406\u6DF7\u6C8C\u5B9E\u9A8C"}),"\n",(0,h.jsx)(s.p,{children:"\u5728\u5378\u8F7D Chaos Mesh \u4E4B\u524D\uFF0C\u8BF7\u786E\u4FDD\u6240\u6709\u7684\u6DF7\u6C8C\u5B9E\u9A8C\u90FD\u5DF2\u88AB\u5220\u9664\u3002\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u67E5\u770B\u6DF7\u6C8C\u5B9E\u9A8C\u76F8\u5173\u7684\u5BF9\u8C61\uFF1A"}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-shell",children:"for i in $(kubectl api-resources | grep chaos-mesh | awk '{print $1}'); do kubectl get $i -A; done\n"})}),"\n",(0,h.jsx)(s.p,{children:"\u4E00\u65E6\u786E\u4FDD\u6240\u6709\u7684\u6DF7\u6C8C\u5B9E\u9A8C\u90FD\u5DF2\u88AB\u5220\u9664\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5378\u8F7D Chaos Mesh\uFF1A"}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-2-\u6B65\u5220\u9664-chaos-mesh-\u5DE5\u4F5C\u8D1F\u8F7D",children:"\u7B2C 2 \u6B65\uFF1A\u5220\u9664 Chaos Mesh \u5DE5\u4F5C\u8D1F\u8F7D"}),"\n",(0,h.jsx)(s.p,{children:"\u901A\u5E38 Chaos Mesh \u4F1A\u5B89\u88C5\u591A\u79CD\u7C7B\u578B\u7684\u7EC4\u4EF6\uFF1A"}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:["\u4E00\u4E2A\u540D\u4E3A ",(0,h.jsx)(s.code,{children:"chaos-controller-manager"})," \u7684 ",(0,h.jsx)(s.code,{children:"Deployment"}),"\uFF0C\u5B83\u662F Chaos Mesh \u7684\u63A7\u5236\u5668/\u8C03\u8282\u5668\u3002"]}),"\n",(0,h.jsxs)(s.li,{children:["\u4E00\u4E2A\u540D\u4E3A ",(0,h.jsx)(s.code,{children:"chaos-daemon"})," \u7684 ",(0,h.jsx)(s.code,{children:"DaemonSet"}),"\uFF0C\u5B83\u662F\u6BCF\u4E2A Kubernetes \u5DE5\u4F5C\u8282\u70B9\u4E0A\u7684 Chaos Mesh \u7684\u4EE3\u7406\u3002"]}),"\n",(0,h.jsxs)(s.li,{children:["\u4E00\u4E2A\u540D\u4E3A ",(0,h.jsx)(s.code,{children:"chaos-dashboard"})," \u7684 ",(0,h.jsx)(s.code,{children:"Deployment"}),"\uFF0C\u5B83\u662F Chaos Mesh \u7684 WebUI\u3002"]}),"\n",(0,h.jsxs)(s.li,{children:["\u4E00\u4E2A\u540D\u4E3A ",(0,h.jsx)(s.code,{children:"chaos-dns-server"})," \u7684 ",(0,h.jsx)(s.code,{children:"Deployment"}),"\uFF0C\u5B83\u662F DNS \u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u53EA\u6709\u5F53\u4F60\u542F\u7528\u4E86 DNSChaos \u7279\u6027\u65F6\u624D\u4F1A\u51FA\u73B0\u3002"]}),"\n"]}),"\n",(0,h.jsx)(s.p,{children:"\u4F60\u5E94\u8BE5\u5220\u9664\u8FD9\u4E9B\u5DE5\u4F5C\u8D1F\u8F7D\u5BF9\u8C61\u3002"}),"\n",(0,h.jsxs)(s.p,{children:["\u7136\u540E\u5220\u9664\u5B83\u4EEC\u7684\u5BF9\u5E94\u7684 ",(0,h.jsx)(s.code,{children:"Service"}),"\uFF1A"]}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-daemon"}),"\n",(0,h.jsx)(s.li,{children:"chaos-dashboard"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-controller-manager"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-dns-server"}),"\n"]}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-3-\u6B65\u5220\u9664-chaos-mesh-rbac-\u5BF9\u8C61",children:"\u7B2C 3 \u6B65\uFF1A\u5220\u9664 Chaos Mesh RBAC \u5BF9\u8C61"}),"\n",(0,h.jsx)(s.p,{children:"Chaos Mesh \u4F1A\u5B89\u88C5\u591A\u4E2A RBAC \u5BF9\u8C61\uFF1A"}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:["ClusterRoleBinding","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-controller-manager-cluster-level"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-controller-manager-target-namespace"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-dns-server-cluster-level"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-dns-server-target-namespace"}),"\n"]}),"\n"]}),"\n",(0,h.jsxs)(s.li,{children:["ClusterRole","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-controller-manager-cluster-level"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-controller-manager-target-namespace"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-dns-server"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-dns-server-cluster-level"}),"\n"]}),"\n"]}),"\n",(0,h.jsxs)(s.li,{children:["RoleBinding","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-controller-manager-control-plane"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-dns-server-control-plane"}),"\n"]}),"\n"]}),"\n",(0,h.jsxs)(s.li,{children:["Role","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-controller-manager-control-plane"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-playground-chaos-dns-server-control-plane"}),"\n"]}),"\n"]}),"\n",(0,h.jsxs)(s.li,{children:["ServiceAccount","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-controller-manager"}),"\n",(0,h.jsx)(s.li,{children:"chaos-daemon"}),"\n",(0,h.jsx)(s.li,{children:"chaos-dns-server"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,h.jsx)(s.p,{children:"\u4F60\u5E94\u8BE5\u5220\u9664\u8FD9\u4E9B RBAC \u5BF9\u8C61\u3002"}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-4-\u6B65\u5220\u9664-configmaps-\u548C-secrets",children:"\u7B2C 4 \u6B65\uFF1A\u5220\u9664 ConfigMaps \u548C Secrets"}),"\n",(0,h.jsx)(s.p,{children:"Chaos Mesh \u4F1A\u5B89\u88C5\u591A\u4E2A ConfigMaps \u548C Secrets\uFF1A"}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:["ConfigMap","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh"}),"\n",(0,h.jsx)(s.li,{children:"dns-server-config"}),"\n"]}),"\n"]}),"\n",(0,h.jsxs)(s.li,{children:["Secret","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-webhook-certs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,h.jsx)(s.p,{children:"\u4F60\u5E94\u8BE5\u5220\u9664\u8FD9\u4E9B ConfigMaps \u548C Secrets \u5BF9\u8C61\u3002"}),"\n",(0,h.jsx)(s.h3,{id:"\u7B2C-5-\u6B65\u5220\u9664-webhook",children:"\u7B2C 5 \u6B65\uFF1A\u5220\u9664 Webhook"}),"\n",(0,h.jsx)(s.p,{children:"Chaos Mesh \u4F1A\u5B89\u88C5\u591A\u4E2A Webhook\uFF1A"}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:["ValidatingWebhookConfigurations","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-validation"}),"\n",(0,h.jsx)(s.li,{children:"chaos-mesh-validate-auth"}),"\n"]}),"\n"]}),"\n",(0,h.jsxs)(s.li,{children:["MutatingWebhookConfigurations","\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsx)(s.li,{children:"chaos-mesh-mutation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,h.jsx)(s.p,{children:"\u4F60\u5E94\u8BE5\u5220\u9664\u8FD9\u4E9B Webhooks\u3002"}),"\n",(0,h.jsx)(s.h3,{id:"step-6-\u5220\u9664-crds",children:"Step 6: \u5220\u9664 CRDs"}),"\n",(0,h.jsx)(s.p,{children:"\u6700\u540E\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5220\u9664 CRDs\uFF1A"}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-shell",children:"kubectl delete crd $(kubectl get crd | grep 'chaos-mesh.org' | awk '{print $1}')\n"})})]})}function t(e={}){let{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,h.jsx)(s,{...e,children:(0,h.jsx)(d,{...e})}):d(e)}},18407:function(e,s,n){n.d(s,{R:()=>r,x:()=>a});var l=n(36672);let h={},c=l.createContext(h);function r(e){let s=l.useContext(c);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(h):e.components||h:r(e.components),l.createElement(c.Provider,{value:s},e.children)}}}]);