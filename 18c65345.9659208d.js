(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{232:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return m}));var n=t(0),r=t.n(n);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var b=r.a.createContext({}),l=function(e){var a=r.a.useContext(b),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},p=function(e){var a=l(e.components);return r.a.createElement(b.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},d=r.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,s=e.originalType,c=e.parentName,b=o(e,["components","mdxType","originalType","parentName"]),p=l(t),d=n,m=p["".concat(c,".").concat(d)]||p[d]||u[d]||s;return t?r.a.createElement(m,i(i({ref:a},b),{},{components:t})):r.a.createElement(m,i({ref:a},b))}));function m(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var s=t.length,c=new Array(s);c[0]=d;var i={};for(var o in a)hasOwnProperty.call(a,o)&&(i[o]=a[o]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var b=2;b<s;b++)c[b]=t[b];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},271:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-login-841eeaf483f58b24b98db4855386f64c.png"},272:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-new-exp-5c57e4024410b334b40fa905d9f98969.png"},273:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-fill-exp-65a6e463019749a2169e8ac731ec37fe.png"},274:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-experiments-8c56e1d4159760b615c6de0e8218e3fe.png"},275:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-exp-detail-755ab29ad6a851b63e1baeea6bbb525e.png"},276:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-home-4b546b72e9cb6466225379d1e553c942.png"},277:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/dashboard-settings-8360eee965ec3042d238edb86bf310aa.png"},85:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return i})),t.d(a,"rightToc",(function(){return o})),t.d(a,"default",(function(){return l}));var n=t(3),r=t(7),s=(t(0),t(232)),c={id:"dashboard",title:"Chaos Dashboard"},i={unversionedId:"user_guides/dashboard",id:"version-1.1.3/user_guides/dashboard",isDocsHomePage:!1,title:"Chaos Dashboard",description:"Chaos Dashboard is a one-step web UI for managing, designing, and monitoring chaos experiments on Chaos Mesh. This document provides a step-by-step introduction on how to use Chaos Dashboard.",source:"@site/versioned_docs/version-1.1.3/user_guides/dashboard.md",slug:"/user_guides/dashboard",permalink:"/docs/user_guides/dashboard",editUrl:"https://github.com/chaos-mesh/website/edit/master/versioned_docs/version-1.1.3/user_guides/dashboard.md",version:"1.1.3",sidebar:"version-1.1.3/docs",previous:{title:"Run Chaos Experiment",permalink:"/docs/user_guides/run_chaos_experiment"},next:{title:"PodChaos Experiment",permalink:"/docs/chaos_experiments/podchaos_experiment"}},o=[{value:"Install Chaos Dashboard",id:"install-chaos-dashboard",children:[]},{value:"Enable/Disable security mode",id:"enabledisable-security-mode",children:[]},{value:"Access Chaos Dashboard",id:"access-chaos-dashboard",children:[]},{value:"Log In",id:"log-in",children:[{value:"Create the account",id:"create-the-account",children:[]},{value:"Get the token",id:"get-the-token",children:[]},{value:"Fill in",id:"fill-in",children:[]}]},{value:"Create a chaos experiment",id:"create-a-chaos-experiment",children:[]},{value:"Manage a chaos experiment",id:"manage-a-chaos-experiment",children:[]},{value:"Quick glance",id:"quick-glance",children:[]},{value:"Manage existing tokens",id:"manage-existing-tokens",children:[]}],b={rightToc:o};function l(e){var a=e.components,c=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},b,c,{components:a,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Chaos Dashboard is a one-step web UI for managing, designing, and monitoring chaos experiments on Chaos Mesh. This document provides a step-by-step introduction on how to use Chaos Dashboard."),Object(s.b)("h2",{id:"install-chaos-dashboard"},"Install Chaos Dashboard"),Object(s.b)("p",null,"You can install Chaos Mesh with Chaos Dashboard by executing the command below:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"helm install chaos-mesh chaos-mesh/chaos-mesh --namespace=chaos-testing --set dashboard.create=true\n")),Object(s.b)("p",null,"If you have already installed Chaos Mesh, upgrade it by executing:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"helm upgrade chaos-mesh chaos-mesh/chaos-mesh --namespace=chaos-testing --set dashboard.create=true\n")),Object(s.b)("h2",{id:"enabledisable-security-mode"},"Enable/Disable security mode"),Object(s.b)("p",null,"Chaos Dashboard supports a security mode, which requires users to login with a token generated by Kubernetes. Each token is linked to a ",Object(s.b)("inlineCode",{parentName:"p"},"service account"),". You can only perform operations within the scope as allowed by the role that is associated with the service account."),Object(s.b)("p",null,"The security mode is enabled by default if you install via Helm. You can disable it by executing:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"helm upgrade chaos-mesh chaos-mesh/chaos-mesh --namespace=chaos-testing --set dashboard.securityMode=false\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Note:")),Object(s.b)("blockquote",null,Object(s.b)("ul",{parentName:"blockquote"},Object(s.b)("li",{parentName:"ul"},"For actual testing scenarios, we strongly recommend that you enable the security mode."),Object(s.b)("li",{parentName:"ul"},"The security mode is disabled if you install Chaos Mesh by ",Object(s.b)("inlineCode",{parentName:"li"},"install.sh"),", which is suitable for trying Chaos Mesh out."))),Object(s.b)("h2",{id:"access-chaos-dashboard"},"Access Chaos Dashboard"),Object(s.b)("p",null,"A typical way to access Chaos Dashboard is to use ",Object(s.b)("inlineCode",{parentName:"p"},"kubectl port-forward"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"kubectl port-forward -n chaos-testing svc/chaos-dashboard 2333:2333\n")),Object(s.b)("p",null,"Now you should be able to access ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"http://localhost:2333"}),Object(s.b)("inlineCode",{parentName:"a"},"http://localhost:2333"))," in the browser."),Object(s.b)("h2",{id:"log-in"},"Log In"),Object(s.b)("p",null,"By default, the security mode is enabled when using helm to install Chaos Mesh, and you will need to log in Chaos Dashboard with an account ",Object(s.b)("inlineCode",{parentName:"p"},"Name")," and ",Object(s.b)("inlineCode",{parentName:"p"},"Token"),". This section introduces how to create the account and the token. You can skip this step if you have disabled the security mode."),Object(s.b)("h3",{id:"create-the-account"},"Create the account"),Object(s.b)("p",null,"Chaos Dashboard supports Role-Based Access Control (",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/"}),"RBAC"),")."),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Note:")),Object(s.b)("blockquote",null,Object(s.b)("ul",{parentName:"blockquote"},Object(s.b)("li",{parentName:"ul"},"If you want to create the account later and start using Chaos Dashboard quickly, you can use the token of Chaos Mesh. Get the token by executing the command: ",Object(s.b)("inlineCode",{parentName:"li"},"kubectl -n chaos-testing describe secret $(kubectl -n chaos-testing get secret | grep chaos-controller-manager | awk '{print $1}')"),", and then you can go to ",Object(s.b)("a",Object(n.a)({parentName:"li"},{href:"#fill-in"}),"Fill in")," directly."))),Object(s.b)("p",null,"To create the account:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},Object(s.b)("p",{parentName:"li"},"Create the ",Object(s.b)("inlineCode",{parentName:"p"},"Role"),". Here are sample role configurations that you can choose from and edit to meet your specific requirement. You need to save the configuration to an YAML file, and then use ",Object(s.b)("inlineCode",{parentName:"p"},"kubectl apply -f {YAML-File}")," to create it."),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"Cluster Manager")),Object(s.b)("p",{parentName:"li"},"This role has administrative permissions on chaos experiments under all namespaces in the Kubernetes cluster, including creating, updating, archiving, and viewing chaos experiments."),Object(s.b)("p",{parentName:"li"},"Sample configuration file:"),Object(s.b)("pre",{parentName:"li"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"kind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: cluster-role-manager\nrules:\n  - apiGroups: ['']\n    resources: ['pods', 'namespaces']\n    verbs: ['get', 'list', 'watch']\n  - apiGroups:\n      - chaos-mesh.org\n    resources: ['*']\n    verbs:\n      - get\n      - list\n      - watch\n      - create\n      - update\n      - patch\n      - delete\n"))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"Cluster Viewer")),Object(s.b)("p",{parentName:"li"},"This role has permission to view chaos experiments under all namespaces in the Kubernetes cluster."),Object(s.b)("p",{parentName:"li"},"Sample configuration file:"),Object(s.b)("pre",{parentName:"li"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"kind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: cluster-role-viewer\nrules:\n  - apiGroups: ['']\n    resources: ['pods', 'namespaces']\n    verbs: ['get', 'list', 'watch']\n  - apiGroups:\n      - chaos-mesh.org\n    resources: ['*']\n    verbs:\n      - get\n      - list\n      - watch\n"))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"Namespace Manager")),Object(s.b)("p",{parentName:"li"},"This role has administrative permissions on chaos experiments under a specified namespace in the Kubernetes cluster, including creating, updating, archiving, and viewing chaos experiments."),Object(s.b)("p",{parentName:"li"},"The sample configuration file is as follows:"),Object(s.b)("pre",{parentName:"li"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"kind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: namespace-test-role-manager\n  namespace: test\nrules:\n  - apiGroups: ['']\n    resources: ['pods', 'namespaces']\n    verbs: ['get', 'list', 'watch']\n  - apiGroups:\n      - chaos-mesh.org\n    resources: ['*']\n    verbs:\n      - get\n      - list\n      - watch\n      - create\n      - update\n      - patch\n      - delete\n"))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"Namespace Viewer")),Object(s.b)("p",{parentName:"li"},"This role has access to the chaos experiment under a specified namespace in the Kubernetes cluster."),Object(s.b)("p",{parentName:"li"},"Sample configuration file:"),Object(s.b)("pre",{parentName:"li"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"kind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: namespace-test-role-viewer\n  namespace: test\nrules:\n  - apiGroups: ['']\n    resources: ['pods', 'namespaces']\n    verbs: ['get', 'list', 'watch']\n  - apiGroups:\n      - chaos-mesh.org\n    resources: ['*']\n    verbs:\n      - get\n      - list\n      - watch\n"))))),Object(s.b)("li",{parentName:"ol"},Object(s.b)("p",{parentName:"li"},"Create a ",Object(s.b)("inlineCode",{parentName:"p"},"ServiceAccount"),", and bind it with a specific ",Object(s.b)("inlineCode",{parentName:"p"},"Role"),". Refer to ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/"}),"RBAC")," for more details. Here are sample configurations that you can choose from and edit to meet your specific requirement. You need to save the configuration to an YAML file, and then use ",Object(s.b)("inlineCode",{parentName:"p"},"kubectl apply -f {YAML-File}")," to create it."),Object(s.b)("ul",{parentName:"li"},Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"Create a ServiceAccount and bind cluster role")),Object(s.b)("p",{parentName:"li"},"Create a ServiceAccount and bind it with the role ",Object(s.b)("inlineCode",{parentName:"p"},"Cluster Manager")," or ",Object(s.b)("inlineCode",{parentName:"p"},"Cluster Viewer"),"."),Object(s.b)("p",{parentName:"li"},"Sample configuration file:"),Object(s.b)("pre",{parentName:"li"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'kind: ServiceAccount\napiVersion: v1\nmetadata:\n  name: account-cluster-manager # use "account-cluster-viewer" for viewer\n  namespace: chaos-testing\n\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: bind-cluster-manager # use "bind-cluster-viewer" for viewer\nsubjects:\n  - kind: ServiceAccount\n    name: account-cluster-manager # use "account-cluster-viewer" for viewer\n    namespace: chaos-testing\nroleRef:\n  kind: ClusterRole\n  name: cluster-role-manager # use "cluster-role-viewer" for viewer\n  apiGroup: rbac.authorization.k8s.io\n'))),Object(s.b)("li",{parentName:"ul"},Object(s.b)("p",{parentName:"li"},Object(s.b)("strong",{parentName:"p"},"Create a ServiceAccount and bind namespace role")),Object(s.b)("p",{parentName:"li"},"Create a ServiceAccount and bind it with the role ",Object(s.b)("inlineCode",{parentName:"p"},"Namespace Manager")," or ",Object(s.b)("inlineCode",{parentName:"p"},"Namespace Viewer"),"."),Object(s.b)("p",{parentName:"li"},"Sample configuration file:"),Object(s.b)("pre",{parentName:"li"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),'kind: ServiceAccount\napiVersion: v1\nmetadata:\n  name: account-namespace-test-manager # use "account-namespace-test-viewer" for viewer\n  namespace: test\n\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: bind-namespace-test-manager # use "bind-namespace-test-viewer" for viewer\n  namespace: test\nsubjects:\n  - kind: ServiceAccount\n    name: account-namespace-test-manager # use "account-namespace-test-viewer" for viewer\n    namespace: test\nroleRef:\n  kind: Role\n  name: namespace-test-role-manager # use "namespace-test-role-viewer" for viewer\n  apiGroup: rbac.authorization.k8s.io\n')))))),Object(s.b)("h3",{id:"get-the-token"},"Get the token"),Object(s.b)("p",null,"The token is generated by Kubernetes. To get a token for the ",Object(s.b)("inlineCode",{parentName:"p"},"ServiceAccount")," created above, run command below:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"kubectl -n ${namespace} describe secret $(kubectl -n ${namespace} get secret | grep ${service-account-name} | awk '{print $1}')\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Note:")),Object(s.b)("blockquote",null,Object(s.b)("ul",{parentName:"blockquote"},Object(s.b)("li",{parentName:"ul"},"You need to replace the ",Object(s.b)("inlineCode",{parentName:"li"},"${namespace}")," and ",Object(s.b)("inlineCode",{parentName:"li"},"${service-account-name}")," with the actual value. For example, executing command ",Object(s.b)("inlineCode",{parentName:"li"},"kubectl -n chaos-testing describe secret $(kubectl -n chaos-testing get secret | grep cluster-role-manager | awk '{print $1}')")," to get the token of ",Object(s.b)("inlineCode",{parentName:"li"},"cluster-role-manager"),"."))),Object(s.b)("p",null,"Refer to ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md#getting-a-bearer-token"}),"getting-a-bearer-token")," for more details."),Object(s.b)("h3",{id:"fill-in"},"Fill in"),Object(s.b)("p",null,"With the token generated, you need to identify it with a ",Object(s.b)("inlineCode",{parentName:"p"},"Name"),". A meaningful name is recommended, for example, ",Object(s.b)("inlineCode",{parentName:"p"},"Cluster-Manager"),", to indicate that the token has permissions managed chaos experiments in the cluster."),Object(s.b)("p",null,"Fill in the form with ",Object(s.b)("inlineCode",{parentName:"p"},"Name")," and ",Object(s.b)("inlineCode",{parentName:"p"},"Token"),":"),Object(s.b)("p",null,Object(s.b)("img",{alt:"dashboard-login",src:t(271).default})),Object(s.b)("h2",{id:"create-a-chaos-experiment"},"Create a chaos experiment"),Object(s.b)("p",null,"To create a chaos experiment on Chaos Dashboard:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},Object(s.b)("p",{parentName:"li"},"Click the ",Object(s.b)("strong",{parentName:"p"},"NEW EXPERIMENT")," button to create a new chaos experiment:"),Object(s.b)("p",{parentName:"li"},Object(s.b)("img",{alt:"dashboard-new-experiment",src:t(272).default}))),Object(s.b)("li",{parentName:"ol"},Object(s.b)("p",{parentName:"li"},"Configure the chaos experiment, including the experiment type, name, scheduling information, etc."),Object(s.b)("p",{parentName:"li"},Object(s.b)("img",{alt:"dashboard-fill-experiment",src:t(273).default})))),Object(s.b)("h2",{id:"manage-a-chaos-experiment"},"Manage a chaos experiment"),Object(s.b)("p",null,"To manage a specific chaos experiment:"),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},Object(s.b)("p",{parentName:"li"},"Click the ",Object(s.b)("strong",{parentName:"p"},"Experiments")," button to view all the chaos experiments."),Object(s.b)("p",{parentName:"li"},Object(s.b)("img",{alt:"dashboard-experiments",src:t(274).default}))),Object(s.b)("li",{parentName:"ol"},Object(s.b)("p",{parentName:"li"},"Choose the target experiment to view the detail, archive, pause or update."),Object(s.b)("p",{parentName:"li"},Object(s.b)("img",{alt:"dashboard-experiment-detail",src:t(275).default})))),Object(s.b)("h2",{id:"quick-glance"},"Quick glance"),Object(s.b)("p",null,"Through the steps just now, you already know how to create an experiment and view its detail. But this is only one of the main features of the dashboard."),Object(s.b)("p",null,"Next, you can click the ",Object(s.b)("strong",{parentName:"p"},"TUTORIAL")," button on the homepage to learn about all the features of the dashboard."),Object(s.b)("p",null,Object(s.b)("img",{alt:"dashboard-home",src:t(276).default})),Object(s.b)("h2",{id:"manage-existing-tokens"},"Manage existing tokens"),Object(s.b)("p",null,"To create and manage existing tokens:"),Object(s.b)("p",null,Object(s.b)("img",{alt:"dashboard-settings",src:t(277).default})),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Note:")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"If ",Object(s.b)("inlineCode",{parentName:"p"},"dashboard.securityMode=false")," is set, this section will be invisible.")))}l.isMDXComponent=!0}}]);